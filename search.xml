<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[OpenSim教程1--肌肉骨骼建模入门]]></title>
    <url>%2F2020%2F03%2F07%2F%E6%95%99%E7%A8%8B1--%E8%82%8C%E8%82%89%E9%AA%A8%E9%AA%BC%E5%BB%BA%E6%A8%A1%E5%85%A5%E9%97%A8%EF%BC%88%E7%BD%91%E7%BB%9C%E7%89%88%EF%BC%89%2F</url>
    <content type="text"><![CDATA[I. 目标OpenSim 介绍骨骼肌肉模型使我们可以去学习神经肌肉协调，分析运动员表笑和估计骨骼肌肉负荷。OpenSim是一款开源软件，它允许用户开发、分析和可视化模型并生成动作的动力学模拟1。在OpenSim中，骨骼肌肉模型由关节链接的环节刚体构成。肌肉跨过关节产生力并驱使关节运动。一旦骨骼肌肉模型创建，OpenSim用户可以在其中进行研究，包括调查骨骼肌肉的几何学影响、关节运动学、肌肉-肌腱在作用力下的性质以及在肌力作用下关节的运动。在OpenSim中，我们的目标是提供一个允许生物力学团体去创造、分享、扩展模型库以及动力学仿真工具的框架来用于研究和量化人体与动物的动作。 目标本教程的目标是通过展示图形化骨骼肌肉模型框架工具调查下肢肌肉-肌腱长度和动量矩变化来向用户介绍OpenSim。在本教程中： 熟悉OpenSim的操作图形界面 发现一些骨骼肌肉模型的局限 探索单关节与双关节肌肉的不同 使用OpenSim接触重要的临床问题 格式教程的每一个部分都会通过确定的OpenSim GUI工具指导你和回答你的一些问题。菜单的名称、选项名称、需要选择的命令以及在OpenSim中的输入都会粗体显示。问题会被基于OpenSim的人体肌肉骨骼模型系统的基本知识来回答。当你完成所有部分的教程你可以自由探索OpenSim和下肢模型。根据你所做的探索，本教程可能耗时1-2小时完成。 OpenSim GUI 简介这里有OpenSim GUI的主要组成。下表将介绍GUI。 注意：打开OpenSim时具有如下显示，但并没有载入模型。 关于GUI的文档可以在用户手册中找到—&gt; Graphical User Interface II. 下肢骨骼肌肉模型在这个部分，你将载入一个下肢模型2到OpenSim中然后使它“行走”。这个模型代表一位身高约1.8m、体重约75KG的成人受试者。模型包含13个刚体环节和92条代表肌肉的直线（43条位于下肢和6条位于躯干）。 加载模型第一个分析的模型为gait2392.osim。加载这个模型到OpenSim中。 点击File菜单选择OpenModel 在你的文件夹Documents/OpenSim/4.0中找到Models文件夹（Windows用\表示路径，根据安装位置路径可能不同）。可能还有其他的模型文件，教程中所有的模型（Model）和动作（Motion）文件都在Models文件夹下 打开Gait2392_simbody文件夹，选择gait2392_simbody.osim双击打开 打开模型后导航窗口将会显示模型的名称，如果你有多个模型你你可以修改每个模型的名称。导航窗口会提供模型的身体（bodies）、肌肉（muscles）、关机（joints）的特殊信息。如果导航窗口不可见，点击Window菜单再选择导航（Navigator）。使用左键来打开\回收导航中的选项。 注意：如果已经打开，也可以点击标题栏看到导航窗口 观察模型OpenSim允许使用鼠标定位模型。 Camera Action 摄像机动作 Windows Mac Rotate 旋转 left-click and hold (PC or mouse) 左键点击再保持 single-finger click and hold (Mac trackpad) 单指点击再保持 Translate 平移 right-click and hold (PC or mouse) 右键点击再保持 two-finger click and hold (Mac trackpad) 双指点击再保持 Zoom 缩放 scroll up or down (PC or mouse) 滚轮上下 pinch or expand (Mac trackpad). 双指张开或回收 另外，有6个定位图标在可视化窗口中。 改变摄像头视角于X方向，单击图标。 相似的，点击其他按钮来观察另外的方向 双击使身体位于屏幕中间 在继续之前，请点击图标重制你的视角。 模型坐标坐标窗口（Coordinates window）包含模型关节对应的坐标、自由度的滑块。点击窗口（Window）菜单选择坐标（Coordinates）来显示坐标窗口。在当前模型下，盆骨的方向相对于模型，模型的方向相对于地面。 *注意：如果已经打开，可以点击标题栏显示坐标窗口。 前三个滑块—骨盆倾斜（tilt）、侧倾（list）和旋转（rotation）与 “骨盆” 的Z轴、X轴和Y轴的旋转相对应。要使盆骨绕z轴旋转，可拖动盆骨倾斜滑块。同样地，若要将盆骨绕另外两个轴旋转，可拖动相应的滑块。 接下来的三个滑块—骨盆tx，ty和tz—对应于骨盆沿 “地面” 参考系的X，Y和Z轴的平移。 注意：以这种方式旋转和平移模型会更改模型相对于地面的方向和位置，这与在可视化器中旋转或平移模型视图不同。 其余滑块对应于关节旋转并控制单个自由度。要旋转关节，请拖动滑块或在相邻的文本框中键入所需的关节角度。 使用姿势（Poses）菜单中的工具，你可以恢复模型的默认姿势，保存当前姿势或将当前姿势设置为模型的新默认姿势。 现在，通过单击姿势（Poses）按钮并选择默认（Default）来恢复默认坐标。 在本教程的后面，您将保存一个新的姿势。为此，在设置好模型姿势后，在Poses菜单中选择新建（New），输入姿势的名称，然后单击OK。单击姿势（Poses）时，要保存的姿势将保存在默认（Default）下。 若要设置新的模型默认姿势，请在根据需要设置好模型后，在姿势（Poses）菜单中选择默认设置（Set Default）。您需要保存模型以保存新的默认姿势。 模型中的肌肉肌肉—肌腱的路径在OpenSim中由线段连接的一系列点表示。要查看所有肌肉的列表： 在导航中，展开3DGaitModel2392（模型名称）中的力（Forces），肌肉（Muscles）以及所有标题。 要展示单个肌肉，右键单击指定肌肉名称下的所有组别，如 glut_med1_r，然后从弹出菜单中选择显示&gt;只显示（Display&gt;Show Olny） 要切换所有肌肉的显示，请右键单击肌肉（Muscles）或所有（all）标题，然后选择显示&gt;显示 或 显示&gt;隐藏（Display &gt; Show or Display &gt; Hide ） 某些肌肉可以用多条线代表，而不是单一的作用线。在这个模型中，臀中肌是由多个作用线代表的肌肉的一个例子(如, glut_med1_r, glut_med2_r, glut_med3_r) 对于某些肌肉，肌肉起点与止点的两点足以描述肌肉路径。对于那些包裹了骨或者被筋膜包裹的肌肉，中间包裹（intermediate wrapping）或者通过点（via points）。要查看这些包装点： 通过单击姿势（Poses）按钮并选择默认（Default）来恢复默认模型姿势。然后放大右膝关节 右键单击R_knee_ext 肌肉组，然后选择仅显示（Show only） 使用knee_angle_r 坐标滑块完全弯曲右膝盖 注意，一定的膝角时包裹点在某些膝盖伸直器中以引入，从而使肌肉路径发展为扭结然后出现在骨骼周围并将其包裹 下肢模型中的某些肌肉会在极限运动范围内穿过骨骼或深层肌肉 问题 自由度 a. 使用坐标面板（Coordinates panel ）查看模型的自由度。该模型总共有多少个自由度？列出右腿的自由度。 b. 所有模型均为近似值。将模型中的自由度与下肢中的自由度进行比较。举例说明已简化的关节运动。举例说明该模型未包含的动作 肌肉 a. 模型中有多少肌肉？这与模型中的自由度数相比如何？完全驱动模型所需的最少肌肉数量是多少？ 提示：例如完全驱动膝，意味着膝关节的屈和伸 b. 在模型中命名两条肌肉（臀肌以外），这些肌肉由多条线代表其行动。为什么认为这些肌肉以这种方式代表？ 提示：具有多个作用线的其他肌肉使用与臀中肌相同的命名约定。 c. 哪些膝盖伸肌有包裹点？每个膝伸肌器的包裹点在什么角度出现？一块肌肉可能有多个包裹点。 建模限制 a. 放大右髋部，仅显示glut_max3_r肌肉（右臀部伸肌群）。检查此肌肉的整个髋关节屈曲角度。在运动范围内看到glut_max3_r的路径有什么问题？肌肉路径的点对点表示以什么方式简化了骨骼肌肉的几何结构？ III. 关节角度，肌腱长度和力臂在此部分，你将何根据肢体配置（limb configuration）来调查肌肉—肌腱以及力臂。骨骼肌肉的几何形态对于肌肉的功能和发展骨骼肌肉模型非常重要。肌肉—肌腱力量取决于肌肉—肌腱的长度，而关节的动量取决于肌肉—肌腱力量和力臂。因此，在开发用于预测肌肉肌腱力和关节力矩的精确模型时，准确确定肌肉骨骼的几何形状至关重要。 使用绘图OpenSim的绘图允许你绘制肌肉—肌腱属性，如长度，力臂，力和关节动量。生成骨直肌和股中间肌的纤维长度与膝关节角度图： 点击坐标窗口姿势&gt;默认（Poses&gt;Default）回到模型的初始姿势 注意：绘图是基于当前模型配置而生成的。你的绘图将以默认的姿势生成 要打开一个新的绘图，请点击工具（Tools）菜单然后选择绘图（Plot）。在绘图窗口，点击Y-Quantity按钮然后选择fiber-length。这个变量将在Y轴显示 在选择万Y-Quantity后，如果想生成曲线还需要选择Muscles变量。点击Muscles按钮将出现一个菜单。 为更快的找到肌肉，你可以筛选肌肉组中的肌肉。选择model选项然后使用Group下拉菜单来选择R_knee_ext。现在的肌肉列表中只会显示右膝伸肌器组。 从列表中点击选择框（checkbox）中的rect_fem_r 和vas_int_r标签来选择骨直肌（recus femoris）和骨中间肌（vastus intermedius） 注意：在绘图窗口打开的时候不必去关掉肌肉窗口，你的选择会立刻在肌肉文字框中更新。这有助于在图中创建多条曲线，下一步会做。 点击X-Quantity然后选择knee_angle_r。此变量将出现在x轴中。 为给图增加一个标题，点击属性（properties）按钮然后在标题下的文字框中输入Fiber-Length vs. Knee Angle。点击OK。 为增加一条曲线，点击增加（Add） *注意：图将使用以下单位：米（长度）、牛顿（力）、牛米（动量）。 不要关闭绘图窗口，你将会在后面增加更多的图 问题 肌纤维长度 vs 关节角度 a. 研究肌纤维长度与膝关节角度的关系图。对于股直肌和中间股直肌，如果右髋屈曲，您是否期望纤维长度曲线不同？为什么或者为什么不？ b. 在坐标窗口中，将模型的右髋屈曲调整至45度（将姿势保存为r_hip_flex_45），添加股直肌和中间股肌的纤维长度曲线以使髋屈曲45°。将模型的肌肉曲线与您先前绘制的未弯曲臀部的曲线与刚刚绘制的模型的曲线进行比较。曲线如何变化？解释您的发现。双关节肌肉如何使复杂化分析？ 注意：要选择多个曲线名称，请在选择时按住Ctrl（PC）或Command（Mac）。要打印或保存绘图，请在绘图上单击鼠标右键，然后选择“打印或导出图像”。 肌肉力矩臂 vs 关节角度 将模型恢复到初始位置且不屈曲髋（单击姿势&gt;默认，Poses&gt;Default）。现在绘制右股直肌和股中间肌肉的膝盖伸展力臂与膝关节角度的关系图。 新建一个绘图窗口，点击Y-Quantity &gt; moment arm &gt; knee_angle_r 然后点击X-Quantity &gt; knee_angle_r 与之前相同，选择右股直肌（rect_fem_r）和股中间肌（vas_int_r） 设定图的名称为Knee Extension Moment Arm vs. Knee Angle 加入曲线到图中 a. 每个肌肉的峰值力臂是什么，它们出现在什么膝关节角度？ 注意：如果将光标悬停在曲线上，工具提示将给出该特定点的坐标。 b. 膝关节角度多少时力臂曲线不平滑（导数不连续的点）？你认为什么原因造成的？ 提示：看问题2.c 随意绘制其他肢体位置，肌肉和/或关节的图。当您准备继续学习本教程时，请关闭绘图窗口并通过单击文件(File)菜单并选择关闭模型(Close Model)来关闭3DGaitModel2392模型。不要将模型设置保存到文件中，我们关闭模型以确保在浏览时进行的任何先前修改不会影响本教程的其余部分。 IV. 蹲伏步态腘绳肌长度的评估在教程的最后部分，你将使用OpenSim调查蹲伏步态形成的原因，一种脑瘫患者中最常见的行走异常步态。它的特征是在站立阶段膝过度屈曲，通常伴随着屈曲过度和髋关节内部旋转。造成蹲伏步态原因的一种假设是腘绳肌过短，骨科医生有时会为改善病人的姿态和步态来增加腘绳肌的长度。然而，其他导致膝过度屈的原因也有可能（如足屈肌薄弱），增加腘绳肌长度会降低肌肉产生力量的能力3。外科医生如何确定是否需要进行腘绳肌的增长呢？ 判别病人的腘绳肌是否比“正常”短的一种可能的方法是开发一个骨骼肌肉模型来比较正常步态的腘绳肌长度和病人的蹲伏步态腘绳肌长度。假设骨科医生已经给你一些病人的蹲伏步态运动学数据。医生考虑是否手术需要你的意见。 加载模型重新打开gait2392.osim模型。在动画模式，你需要加载一个动作文件（motion file）到OpenSim中。 点击文件（File）菜单然后选择加载动作（Load Motion），确保你在Gait2392\Tutorial1 路径，选择normal.mot文件，点击打开（Open）。此文件包含了一个正常步态的运动学数据。在打开的模型中右键点击导航，弹出窗口选择重命名（Rename），为模型命名为Normal。 注意：导航中重命名模型只会改变显示的名称，而不会修改模型文件的名称 载入模型后，它的名称将会显示在工具栏中。另外，导航栏会出现一个名为动作（Motion）的分支。展开此分支可看到特定模型中加载的动作。模型加载成功后肌肉的颜色将变为蓝色。 动作滑块动作滑块对应当前的动作文件。拖动动作滑块来播放当前动作。在动画模式下，使用视频控制（video control）按钮，例如点击来播放（play），按钮来循环（loop），按钮来暂停（pause），控制速度（speed）。 多个模型和动作OpenSim可以对多个模型进行模拟。跟随一下步骤打开第二个模型和加载动作。 导航中已经包含一个Normal模型，同样再打开一个gait2392.osim模型文件，在导航中重命名为Crouch。第二个加载的文件会自动变为Crouch模型。其他如加载动作等，将会应用到crouch模型中。从路径Gait2392\Tutorial1 加载动作文件crouch1.mot。 注意：如果没有看到两个模型被加载，请缩放视角。在教程的后续中，两个模型将会被称作Normal和*Crouch。 OpenSim能同步多个动作，允许同时播放多个动画。为此，在导航中展开每个模型的动作分支，按住Ctrl (Windows) 或Command (Mac)，再选择两个模型的名称使其高亮。右键点击每个模型名称，再选择同步（Sync）。弹出的动作（Motions）将会显示。 问题 动作的范围 a. 同步播放normal步态和crouch步态。确认是在循环播放，调整播放速度和旋转角度。观察比较两模型。根据你的观察，用数量描述两个模型的一般运动学区别（关节坐标）。 现在在数量上比较normal步态和crouch步态膝关节伸角度的区别。 打开一个新的绘图（plot）窗口 导航窗口中双击Normal模型的名称，使其变为粗体。 在绘图窗口中，点击Y-Quantity，选择normal_gait(Deg.) ，再选择knee_angle_r. ，点击OK 点击X-Quantity再选择normal_gait. ，点击OK 在曲线名称（Curve Name）文本框中编辑文字来读取正常步态（Normal Gait） 要增加一条右膝关节角度vs步态周期的曲线，点击增加（Add） 双击选中导航窗口已存在的模型Crouch，使其变为粗体 在同一个绘图窗口中点击Y-Quantity，选择normal_gait(Deg.) ，再选择knee_angle_r. ，点击OK 点击X-Quantity再选择normal_gait. ，点击OK 在曲线名称（Curve Name）文本框中编辑文字来读取正常步态（Crouch Gait） b. 从正常步态周期中画出膝关节角度曲线。标注后跟着地和脚尖离地的时间点以及站立和摆动的间隔。 c. 什么是正常步态站立时相的膝关节伸范围？ d. 如何让蹲伏步态的膝关节伸范围和正常步态相比较？ 腘绳肌长度 骨外科医生相信病人可以从增长腘绳肌长度中受益。你可以做一个病人蹲伏步态周期和正常步态周期中腘绳肌（半腱肌）长度的比较。 画一个半腱肌肌肉—肌腱长度在蹲伏步态周期中的图 为删除之前的曲线，选择所有曲线名称列表然后点击删除（Delete） 在模型（Model）下拉菜单中选择normal模型 点击Y-Quantity然后选择肌肉—肌腱长度（muscle-tendon length） 点击肌肉（Muscles）在列表中选择semiten_r 。点击关闭（Close） 注意：要快速选择semiten_r，在Pattern文本栏输入semi 点击X-Quantity然后选择normal_gait (Deg.) 在曲线名称（Curve Name）文本框中编辑文字来读取正常步态（Normal Gait） 要增加一条腘绳肌长度vs步态周期的曲线，点击增加（Add） 为做一个与蹲伏步态相似的曲线，请使蹲伏模型为当前模型。然后点击Y-Quantity并重新选择肌肉—肌腱长度（muscle-tendon length） 点击肌肉（Muscles）选择semiten_r 点击X-Quantity然后选择crouch1_gait (Deg.) 在曲线名称（Curve Name）文本框中编辑文字来读取正常步态（Crouch Gait），然后点击增加（Add） a. 研究这些曲线。基于绘图，正常步态和蹲伏步态腘绳肌长度的峰值有何不同？对于病人，你是否建议腘绳肌增长手术？ b. 你分析的局限在哪里？ 其他蹲伏步态文件（可选） 骨科医生治疗其他三名有蹲伏步态的病人。重复分析动作文件 crouch2.mot, crouch3.mot,和crouch4.mot。注意你现在能用一个模型关联不止一种动作。对于这些病人你是否会建议手术会有一些区别？如果你想了解更多此类型的分析，请阅读文献3 。 原文地址：点击这里跳转到原文（速度较慢） 参考1.Delp, S.L., Anderson, F.C., Arnold, A.S., Loan, P., Habib, A., John, C.T., Guendelman, E., Thelen, D.G. OpenSim: Open-source software to create and analyze dynamic simulations of movement. IEEE Transactions on Biomedical Engineering, vol. 55, pp. 1940-1950, 2007. ↩2.Delp, S.L., Loan, J.P., Hoy, M.G., Zajac, F.E., Topp E.L., Rosen, J.M. An interactive graphics-based model of the lower extremity to study orthopaedic surgical procedures. IEEE Transactions on Biomedical Engineering, vol. 37, pp. 757-767, 1990. ↩3.Arnold, A.S., Liu, M., Ounpuu, S., Swartz, M., Delp, S.L., The role of estimating hamstrings lengths and velocities in planning treatments for crouch gait, Gait and Posture, vol. 23, pp. 273-281, 2006. ↩]]></content>
      <categories>
        <category>OpenSim</category>
      </categories>
      <tags>
        <tag>OpenSim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pose estimate 收集]]></title>
    <url>%2F2018%2F11%2F05%2Fpose%20estimate%2F</url>
    <content type="text"><![CDATA[pose estimate 如今发展迅速，在github中有很多开源code。商业应用中我只了解到有simi的motion capture系统中有无标志点的方式，依靠剪影来估计标志点。由于近期希望能应用pose estimate对人体的简单运动进行分析，现在将自己知道的相关项目记录在这里。 openpose检测人脸，姿势，手势美国卡耐基梅隆大学（Carnegie Mellon University）GitHub:click值得注意的是项目中有一个中国人，叫zhe cao（曹哲）。他的主页：click他的openpose的口头报告（需要翻墙）：click以及他在b站的讲解：click（b站是个好站） AlphaPose上海交通大学需要Install Torch and TensorFlow(verson &gt;= 1.2) 项目主页：clickGitHub：click 最新文献：Efficient Online Pose Tracking(BMVC’18)，线上姿势跟踪。 Pose Detection in the Browser: PoseNet Model这是一个基于浏览器的实时姿势识别作者叫Siraj Raval，在YouTube上面有很多关于机器学习和计算机视觉的视频教学！地址：click]]></content>
      <categories>
        <category>openpose</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Deep Learning With Python笔记]]></title>
    <url>%2F2018%2F08%2F15%2FDeep%20Learning%20With%20Python%3A%20Step%20By%20Step%20Guide%20With%20Keras%20and%20Pytorch%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[深度神经网络的由来：感知学习算法（perceptron learning algorithm） ↓ 深度神经网络（deep neural networks） 神经元的模型： y=wx+b y：模型预测的输出 w：模型的权重（可训练） b：水平移动偏差（intercept截距） 第一次输入时，w是一个随机得非常小的权重，特征值(x)与权重相乘，计算结果与输入线性求和，求和的值馈送到激活函数，这个激活函数是一种感知习学算法的单位阶跃函数（unit step function）。然后单位阶跃函数基于同值将样本分成类。通过模型计算的数据点&gt;0分为一类，&lt;0分为第二类。对每一个预测分类，查看是否正确，如果正确则绘一个正确的分类标签，如果获得正确的分类，则不更新该样本的相关权重。 然而在错位的分类的情况下，它以同样的方法更新权重，这样可以将计算推向正确的类，是后期训练传递中，很可能正确预测该特定类的标签。 感知学习算的简单性也有几个缺点（drawbacks）。因为我们假设在空间中汆在一组权重来充分地分类。其次，我们还假设数据集可线性分离为不同的类。 取而代之，为了模拟更复杂的函数，我们需要利用非线性的激活函数，因为它们本身就能否进行更复杂的表示， 尽管感知器学习算法存在局限性，但它启发了后来的模型，这些模型包括更多的神经元，非线性激活函数和称为梯度下降的不同类型的学习规则。 激活函数 非线性激活函数的作用是执行一个坐标到另一个坐标的几何变换。如上图，图A代表一个线性分隔的二进制分类预测，它代表着我们可以找到一条直线来正确分离两个类。像我们讨论过的感知器学习算法这样的线性分类器可以处理这种情况，因为数据的性质使得可训练的参数（权重）来学习，因为这是一个简单的线性分类问题。 然而，对于图B，我们需要一种能够对数据点进行分类的更强大的表示，因为这不能通过使用直线来实现。 这就是使用非线性激活函数的原因，因此也可以学习这些更复杂的数据分布。 在深度神经网络中使用了几种非线性激活函数来实现线性判断，例如S形，双曲正切函数，线性整流单元等。 sigmoid激活函数（S激活函数） 主要用于二进制的分类任务，其中有两个互斥的类。它主要是将各种可能性的值压缩到一个连续且有界的较小范围内。由于sigmoid是一个连续函数，它具有可微分的优点，即我们可以采用导数并在深度神经网络训练期间将其用于反向传播。如果专注中间段，基本上有一个直线分类器，如果考虑曲线的早期分布，则可以建模指数部分。sigmoid是深度学习中最重要的激活函数之一。 Hyperbolic Tangent Activation Function双曲正切激活函数 双曲正切激活函数也称作“tanh”，特别是在Recurrent Neural Networks(递归神经网络)。它可以看做是sigmoid激活函数的变化且有更加广泛的输出值域。与sigmoid类似，出入线性的计算结果，再将值的形式转变为-1到1的区间。对于二进制的分类问题，值域可设置为0，输出值大于0为正类，输出值小于0为负类。在实践中，tanh激活正确函数通常的逻辑函数收敛做得更快，并且不太容易在神经网络后续层中过渡拟合。 Rectified linear Unit Activation（ReLU）Function 线性整流函数 在深度神经网络中，线性整流函数（ReLU）已成为隐藏层中激活函数的标准。因为于其它函数相比（如sigmoid，tanh等）它的实践表现更好。主要的有点事用ReLu在隐藏层中作为激活函数，在训练期间梯度消失的趋势更小。梯度消失现象是当下游传播的梯度变得非常小，以至于早期层不再学习，因为后面的层已经知道了。这个问题容易被忽略，并且在训练 层深度网络时变成一个巨大的问题。线性整流函数由于其归零为负值的性质可以解决这个问题。输入到线性整流函数是线性计算步骤的结果。如果输入是负数，ReLu的输出结果是零，但是如果是正数，它将值保留为激活函数的输出。线性整流函数是0到最大值的网络输入。 f(Z)=max(0-Z) 与sigmoid不同，ReLu不会受到最大值饱和的影响，整流线性单元激活函数的值可以尽可能的大，只要它们是正的。在实践中使用的ReLU还存在其它的修正形式。例如，LeakyReLu它允许最小范围的负值减少，如max（0.Z，Z），随机整流线性单元，参数整流线性单元类。 A Feed Forward Neural Network前馈神经网络 现在我们人工神经元，感知器学习算法和激活函数有了很好的理解，现在是时候将我们学到的东西组装成一个称为前馈神经网络的新模型结构。 前馈神经网络是一个人工神经网络，它由几个层组成，其中包含单向晶格结果中的神经元。 这意味着网络的组成并不是以循环的方式所建成的，故名前馈。前馈神经网络有时也被称作多层感知器（Multi-Layer perceptron）MLP。MLP与感知学习算法的不同之处在于前者是由多层，多个神经元构成，并通过梯度下降使用反向传播算法来训练网络。前馈神经网络由三层组成，输入层、隐藏层和输出层。 上图被称作2层前馈神经网络。传统上，在描述一种人工神经网络中的层数时，不计算输入层。 输入层包含以信息特征形式的数据点以馈送到网络中。箭头代表着网络的权重。通过箭头可以观察到一层中的神经元连接到下一层中的每个神经元。由于这样的连接性质，这些层被称作完全连接层（fully connected layer）或密集层（Dense layers）。前馈神经网络的隐藏层是真实学习发生的地方，因为输入特征从一个表示转换到另一个表示，以便可以学习它们的基础模式。隐藏层之所以被称为隐藏层是因为无法直接发现内部如何运作。]]></content>
      <categories>
        <category>深度学习</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[运动与健康CiteSpace分析报告]]></title>
    <url>%2F2018%2F07%2F11%2F%E8%BF%90%E5%8A%A8%E4%B8%8E%E5%81%A5%E5%BA%B7CiteSpace%2F</url>
    <content type="text"><![CDATA[数据获取研究数据来源于Web of ScienceTM（WOS）核心数据库SCI-EXPANDED, SSCI, A&amp;HCI, CPCI-S, CPCI-SSH, ESCI，数据下载日期为2018年7月11日。检索条件：运动（sport）AND 健康（health）与 训练（exercise）AND 健康（health）主题词交集。时间跨度为2008-2018。 检索结果得到文献5109篇文献。 数据的维度分析时间跨度 关于运动与健康的研究自09年到18年呈逐年增长的趋势。 web of science研究领域排名 根据web of science的领域排名，主要的研究领域为公共环境职业健康、体育科学、医学通用内科学、康复等。 关键词分析对数据的文献关键词进行提取如下 引用频率top50 Freq Burst Centrality Sigma Author 中文 Year 1608 0.18 1 exercise 运动 2008 1339 0.18 1 physical activity 体力活动 2008 880 0.07 1 health 健康 2008 763 18.53 0.09 4.67 randomized controlled trial 随机对照试验 2008 620 0.05 1 quality of life 生活质量 2008 443 0.03 1 obesity 肥胖 2008 424 0.07 1 older adult 老年成人 2008 393 0.03 1 women 妇女 2008 373 0.05 1 intervention 干预 2008 369 0.03 1 risk factor 风险因素 2008 341 0.02 1 adult 成人 2008 332 0.02 1 risk 风险 2008 309 4.89 0.02 1.12 cardiovascular disease 心血管疾病 2008 305 0.02 1 united states 美国 2008 275 0.02 1 children 孩子 2008 272 0.01 1 public health 公共卫生 2008 265 0.02 1 adolescent 青少年 2008 257 0.03 1 mortality 死亡率 2008 254 0.02 1 rehabilitation 康复 2008 249 0.04 1 prevention 预防 2008 246 10.74 0.02 1.25 metaanalysis meta分析 2008 245 0.02 1 prevalence 流行 2008 242 0.03 1 disease 疾病 2008 241 0.02 1 body mass index 体质量指数 2008 223 0.01 1 population 人口 2008 212 0.02 1 depression 抑郁症 2008 205 0.01 1 association 协会 2008 203 0.02 1 program 程序 2008 190 0.02 1 behavior 行为 2008 186 0.02 1 performance 性能 2008 175 0.04 1 coronary heart disease 冠心病 2008 167 0.02 1 weight lo 重量 lo 2008 164 0.01 1 follow up 跟进 2008 157 0.01 1 outcm outcm 2008 156 0.04 1 fitness 健身 2008 156 0.01 1 walking 走 2008 153 0.03 1 metabolic syndrome 代谢综合征 2008 152 0 1 sport 运动 2008 149 0.01 1 american heart association 美国心脏协会 2008 149 4.45 0.03 1.12 skeletal muscle 骨骼肌 2008 148 0 1 overweight 超重 2008 143 0.02 1 management 管理 2008 142 0.01 1 epidemiology 流行病 学 2008 142 0.01 1 insulin resistance 胰岛素抵抗 2008 140 0.02 1 diet 饮食 2008 139 0.01 1 validity 有效性 2008 136 0.01 1 men 男人 2008 134 0.01 1 breast cancer 乳腺癌 2008 132 0.02 1 body composition 身体成分 2008 130 0.03 1 clinical trial 临床试验 2008 提取具有代表性意义的词为（按照引用次数降序排列）：生活质量、肥胖、老年人、妇女、风险因素、心血管疾病、儿童、康复、体质量指数、冠心病、减体重、健身、行走、代谢综合征、超重、胰岛素抵抗、乳腺癌、身体成分。 中介中心性Top50 Freq Burst Centrality Sigma Author 中文 Year 1608 0.18 1 exercise 运动 2008 1339 0.18 1 physical activity 体力活动 2008 880 0.07 1 health 健康 2008 763 18.53 0.09 4.67 randomized controlled trial 随机对照试验 2008 620 0.05 1 quality of life 生活质量 2008 443 0.03 1 obesity 肥胖 2008 424 0.07 1 older adult 老年成人 2008 393 0.03 1 women 妇女 2008 373 0.05 1 intervention 干预 2008 369 0.03 1 risk factor 风险因素 2008 341 0.02 1 adult 成人 2008 332 0.02 1 risk 风险 2008 309 4.89 0.02 1.12 cardiovascular disease 心血管疾病 2008 305 0.02 1 united states 美国 2008 275 0.02 1 children 孩子 2008 272 0.01 1 public health 公共卫生 2008 265 0.02 1 adolescent 青少年 2008 257 0.03 1 mortality 死亡率 2008 254 0.02 1 rehabilitation 康复 2008 249 0.04 1 prevention 预防 2008 246 10.74 0.02 1.25 metaanalysis meta分析 2008 245 0.02 1 prevalence 流行 2008 242 0.03 1 disease 疾病 2008 241 0.02 1 body mass index 体质量指数 2008 223 0.01 1 population 人口 2008 212 0.02 1 depression 抑郁症 2008 205 0.01 1 association 协会 2008 203 0.02 1 program 程序 2008 190 0.02 1 behavior 行为 2008 186 0.02 1 performance 性能 2008 175 0.04 1 coronary heart disease 冠心病 2008 167 0.02 1 weight lo 重量 lo 2008 164 0.01 1 follow up 跟进 2008 157 0.01 1 outcm outcm 2008 156 0.04 1 fitness 健身 2008 156 0.01 1 walking 走 2008 153 0.03 1 metabolic syndrome 代谢综合征 2008 152 0 1 sport 运动 2008 149 0.01 1 american heart association 美国心脏协会 2008 149 4.45 0.03 1.12 skeletal muscle 骨骼肌 2008 148 0 1 overweight 超重 2008 143 0.02 1 management 管理 2008 142 0.01 1 epidemiology 流行病 学 2008 142 0.01 1 insulin resistance 胰岛素抵抗 2008 140 0.02 1 diet 饮食 2008 139 0.01 1 validity 有效性 2008 136 0.01 1 men 男人 2008 134 0.01 1 breast cancer 乳腺癌 2008 132 0.02 1 body composition 身体成分 2008 130 0.03 1 clinical trial 临床试验 2008 提取具有代表性意义的词为（按照中介中心性降序排列）：生活质量、肥胖、老年成人、妇女、风险因素、成人、心血管疾病、儿童、青少年、死亡率、疾病、体质量指数、抑郁症、冠心病、减重、健身、走、代谢综合征、超重、胰岛素抵抗、饮食、男人、乳腺癌、身体成分。 爆发性Top50 Freq Burst Centrality Sigma Author 中文 Year 763 18.53 0.09 4.67 randomized controlled trial 随机对照试验 2008 54 15.41 0 1.06 human skeletal muscle 人体骨骼肌 2011 98 13.09 0.01 1.13 resistance exercise 抵抗运动 2008 82 11.36 0 1.04 accelerometer 加速度 计 2009 120 10.87 0.01 1.14 cardiorespiratory fitness 心肺健身 2008 32 10.75 0 1.04 leisure time 休闲时间 2008 246 10.74 0.02 1.25 metaanalysis meta分析 2008 33 10.47 0 1 human 人类 2011 18 9.68 0 1.01 association 协会 2013 55 9.55 0 1.05 postmenopausal women 绝经后妇女 2008 25 9.44 0 1.01 young adult 青年成人 2010 20 9.38 0 1.03 body mass index 体质量指数 2012 26 9.1 0 1.01 balance 平衡 2009 40 9.05 0 1.04 myocardial infarction 心肌梗塞 2011 69 9.04 0.01 1.05 sedentary behavior 久坐行为 2009 25 8.75 0 1 gender 性别 2009 26 8.73 0 1 african american 非洲裔美国人 2008 18 8.44 0 1.01 depression 抑郁症 2012 17 8.38 0 1.01 program 程序 2013 46 7.88 0 1.03 education 教育 2008 44 7.54 0.01 1.05 maintenance 维护 2008 43 7.37 0 1.02 bone mineral density 骨密度 2008 40 6.85 0 1.01 model 模型 2008 41 6.83 0 1.01 planned behavior 计划的行为 2008 29 6.78 0 1.01 injury 损伤 2010 29 6.68 0 1.01 brain 大脑 2009 79 6.6 0.01 1.04 health promotion 健康促进 2008 63 6.58 0 1 of sports medicine 运动医学的 2008 32 6.42 0 1 guideline 指引 2009 47 6.38 0 1.02 randomizedcontrolled trial 随机对照试验 2008 29 6.09 0 1 review 检讨 2010 49 6.04 0.01 1.05 predictor 预测 2008 19 6.02 0 1 population 人口 2011 78 5.89 0.01 1.04 inflammation 炎症 2008 38 5.82 0 1.01 social support 社会支持 2008 32 5.72 0.01 1.03 heart failure 心力衰竭 2009 76 5.62 0.01 1.05 all cause mortality 所有原因死亡 2009 55 5.61 0 1.02 fatigue 疲劳 2009 35 5.58 0 1.01 diabetes mellitus 糖尿病 2008 32 5.49 0 1 type 2 diabetes mellitus 2型糖尿病 2008 49 5.27 0 1.02 anxiety 焦虑 2008 24 5.12 0 1.02 behavior change 行为更改 2008 309 4.89 0.02 1.12 cardiovascular disease 心血管疾病 2008 48 4.51 0.02 1.11 cognition 认知 2010 149 4.45 0.03 1.12 skeletal muscle 骨骼肌 2008 97 4.35 0.01 1.03 alzheimers disease 阿尔茨海默病 2008 123 4.28 0.01 1.06 aerobic exercise 有氧运动 2008 46 4.18 0 1 oxidative stress 氧化应激 2009 49 4.07 0 1.01 osteoarthriti 骨性关节炎 2009 55 3.87 0 1.01 weight 重量 2008 提取具有代表性意义的词为（按照burst值降序排列）：人体骨骼肌、抵抗运动、心肺健身、绝经后妇女、青年成人、体脂指数、平衡、心肌梗塞、久坐行为、不同性别、抑郁症、骨密度、损伤、大脑、炎症、心脏衰竭、疲劳、糖尿病、2型糖尿病、焦虑、心血管疾病、认知、骨骼肌、阿尔茨海默病、有氧运动、氧化应激、骨性关节炎、重量。 关键词分析 研究热点 根据引用次数和中介中心性值，可以得知运动与健康研究的对象主要为：老年人与女性。主要的研究内容为：生活质量、肥胖、风险因素和体质量指数。对于一些疾病，例如：心血管疾病、冠心病、代谢综合征、糖尿病、乳腺癌以及心理健康，如：焦虑症等也有相关研究。 说明近10年来的研究主要是研究运动对于老年人和女性的健康是研究热点。运动可提高生活质量、运动减小疾病的风险，运动对于肥胖的影响、体脂的影响等是学者们关注最多的问题。而运动对于心血管疾病、代谢综合征、糖尿病等身体疾病和运动对于焦虑症的心理疾病的改善效果也得到了学术界的密切关注。 研究前沿 根据爆发性指标burst值，可以得知近10年中研究突然爆发式增长的一些关键词，代表了研究的突变和研究的前沿。其中研究对象绝经后妇女与青年人成为研究前沿。而人体骨骼肌肉、抵抗训练、心肺健身、平衡、久坐、骨密度、骨性关节炎等研究内容成为新的研究热点。 说明运动对于绝经后的妇女和青年人的健康在今近来成为新的研究前沿。运动的方式如抵抗训练、心肺健身、平衡等成为近期关注的研究内容。久坐对于健康的影响、运动对于骨密度、骨性关节炎的影响也成为新的关注点。 聚类 自己看吧！ 高引用文献top51 2 3 4 5]]></content>
      <categories>
        <category>citespace</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[安装Ubuntu版openpose]]></title>
    <url>%2F2018%2F06%2F18%2F%E5%AE%89%E8%A3%85Ubuntu%E7%89%88openpose%2F</url>
    <content type="text"><![CDATA[Ubuntu 下载加速 apt使用清华源sudo vi /etc/apt/sources.list 12345678910# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse 更新apt 12sudo apt updatesudo apt upgrade 安装pip 123wget https://bootstrap.pypa.io/get-pip.pysudo python get-pip.pypip -V #查看pip版本 pip 豆瓣源加速 123mkdir ~/.pipcd ~/.pipsudo gedit ~/.pip/pip.conf 复制文件 1234[global] index-url = http://pypi.douban.com/simple [install] trusted-host=pypi.douban.com 安装git 1sudo apt install git git 加速 查找域名对应的ip地址，并修改hosts文件12nslookup github.global.ssl.fastly.Netnslookup github.com 将下列内容加入sudo vi /etc/hosts文件中12151.101.76.249 http://global-ssl.fastly.net192.30.255.113 http://github.com #此处112还是113根据自己的情况调整？ 刷新dns缓存1sudo /etc/init.d/networking restart 安装openpose克隆openpose1git clone https://github.com/CMU-Perceptual-Computing-Lab/openpose 准备工作 安装Cmake GUI 1sudo apt-get install cmake-qt-gui 安装OpenCV 1sudo apt-get install libopencv-dev 安装Cafe 1sudo bash ./ubuntu/install_cmake.sh 配置 Open CMake GUI and select the OpenPose directory as project source directory, and a non-existing or empty sub-directory (e.g., build) where the Makefile files (Ubuntu) or Visual Studio solution (Windows) will be generated. If build does not exist, it will ask you whether to create it. Press Yes. Press the Configure button, keep the generator in Unix Makefile (Ubuntu) or set it to Visual Studio 14 2015 Win64 (Windows), and press Finish. If this step is successful, the Configuring done text will appear in the bottom box in the last line. Otherwise, some red text will appear in that same bottom box. Press the Generate button and proceed to OpenPose Building. You can now close CMake. Note: If you prefer to use your own custom Caffe or OpenCV versions, see Custom Caffe or Custom OpenCV respectively.]]></content>
      <categories>
        <category>openpose</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[discus data analysis use R]]></title>
    <url>%2F2018%2F05%2F05%2Fdiscus-data-analysis-use-R%2F</url>
    <content type="text"><![CDATA[在生物力学中，会对运动员进行动作分析。由于比赛场地不允许带入分析设备，通常会使用两台（或多台）摄像机拍摄运动员的录像对运动员的动作进行三维解析。三维解析的过程比较繁琐，需要人工将人体的关节位置识别出。而在国内，分析运动员的动作是将少数的一两个运动员的解析数据进行比较，很少有多名运动员的数据进行统计分析和对比。原因是并没有统计三维解析的工具。但binyu的文章中有许多的测试对象，一方面是他们多年的积累，另一方面他们也更为脚踏实地。所以写一个对三维数据进行统计分析的程序，对于我国的运动员技术分析，应该有一定的作用；如果他们数据真实，并且脚踏实地分析的话。 我使用R语言处理分析解析三维坐标的代码 idea 从三维解析软件中提取各个帧的关节点三维坐标 → 生成txt → Encode=UTF-8⬇️ 读取路径下的所有txt格式数据，并根据各个文件名生成相同名称的dataframe⬇️ 计算速度⬇️ 计算角度⬇️ 人工进行每个运动员的阶段划分，铁饼为6个关键时刻T1-T6，5个时相F1-F5，保存为 phase.xlsx⬇️ 提取phase.xlsx中的阶段划分提取各个关键时刻的数据⬇️ 选取特定的数据进行作图，包括空间运动图和线图等⬇️ 使用运动员的关键数据进行统计分析，如T检验，建立回归方程等 function 定义拍摄频率 12#定义拍摄频率fhz &lt;- 60 计算量点之间的距离两点之间的距离通过空间坐标计算公式为： distansce=\sqrt{(x_2-x_1)^2+(y_2-y_1)^2+(z_2-z_1)^2}R语言实现 12345# 求两点的距离distance &lt;- function(x,y)&#123; l &lt;- sqrt((y[1]-x[1])^2+(y[2]-x[2])^2+(y[3]-x[3])^2) return(l)&#125; 已知两个向量A，B，用distance(A,B)计算向量直线距离，返回距离值 例： 12&gt; distance(c(1,3,2),c(3,4,6))[1] 4.582576 计算空间速度提取运动员dataframe中的特定三个向量n,m,l; 每个向量包含每个时刻的三个坐标X,Y,Z; 行代表坐标，列代表不同的时刻。 velocity=\sum_{i=2}^{i_{length}}\sqrt{(n_{[i-1]}-n_{[i+1]})^2+(m_{[i-1]}-m_{[i+1]})^2+(l_{[i-1]}-l_{[i+1]})^2} \bullet fhz$i$ 表示帧数，$i_{length}$ 表示总共的帧数，$fhz$ 表示拍摄频率空间速度计算的是 $i$ 帧前后两帧的平均速度，没有插值，从第二帧开始计算。没有第一帧的速度和最后一帧的速度。 R语言实现 1234567891011121314151617181920vel &lt;- function(n,m,l)&#123; if (!is.numeric(n)&amp;!is.numeric(m)&amp;!is.numeric(l))&#123; stop("输入的n,m,l变量要数值型，大锅！") &#125; # 验证变量是否为数值变量，如果不是报错 if ( !is.null(ncol(n)) &amp;&amp; (ncol(n) &gt; 1) )&#123; stop("需要连续的变量，大锅！") &#125; # 验证变量是否有空变量，如果有报错 v &lt;- c() for (i in 2:length(n)-1) &#123; v[i] &lt;- c((sqrt((n[i-1]-n[i+1])^2+(m[i-1]-m[i+1])^2+(l[i-1]-l[i+1])^2))*fhz) #acc &lt;- diff(vel,differences = 2) v[length(v)+1] &lt;- 0 &#125;return(v)rm(v)&#125; 已知某点（X,Y,Z）的各个时刻坐标三个向量X, Y ,Z ，计算空间速度 vel(X, Y, Z) ,返回一个速度向量例： 12345678910111213141516171819202122 &gt; vel(no1tk57.91$discusX,no1tk57.91$discusY,no1tk57.91$discusZ) [1] 0.0000000 6.9633613 6.7320428 6.4110218 6.1205882 5.8252554 [7] 5.5111886 5.0677806 4.4795535 3.8385935 3.2025615 2.6959970 [13] 2.2665392 1.9699746 1.7285832 1.4623269 1.0816654 0.7868926 [19] 0.9486833 1.5059880 2.1424285 2.6420447 2.9522195 3.2333265 [25] 3.5236912 3.8615023 4.4172390 5.0961162 5.8153590 6.4499302 [31] 6.8822380 7.1932468 7.4535361 7.6811718 7.8828675 8.0931082 [37] 8.1956574 8.3428053 8.5396253 8.8850661 9.2649015 9.5866783 [43] 9.9415492 10.2424411 10.4620457 10.5923369 10.7000374 10.8959075 [49] 11.3241159 11.8833329 12.1415156 12.0522363 11.8621077 11.7469826 [55] 12.0444676 12.7214150 13.3389055 13.5621237 13.2296939 12.4766823 [61] 11.5961545 11.1453129 11.3406349 11.8930232 12.3901090 12.6256881 [67] 12.6077119 12.4691780 12.2602773 12.1533699 12.1091536 12.1058829 [73] 12.1094509 11.9888949 11.9354765 12.0768539 12.5839898 13.3736756 [79] 14.2615848 14.9932785 15.3010588 15.2506262 15.0438559 14.7266697 [85] 14.4974205 14.4217336 14.5066054 14.7781596 15.2836383 15.9636086 [91] 16.4855937 16.5887793 16.2121066 15.5390733 14.9656406 14.8984966 [97] 15.3601172 16.2497015 17.3907907 18.8016489 20.5660011 22.3033809[103] 23.6642008 24.8453617 26.5705175 29.4282721 33.3662584 37.9821326[109] 42.0537941 44.6746237 45.5234357 44.7429056 43.0321322 41.1617930[115] 39.6629500 38.6514114 38.0660636 37.3920366 35.9510167 33.1914447[121] 29.2155643 24.6554010 20.8339147 0.0000000 计算空间夹角 运动员在空间中需要计算关节角度，或者环节与环节之间的夹角 用4个关节点形成两个空间向量，计算两个空间向量的夹角 已知，点$A(x_a,y_a,z_a)B(x_b,y_b,z_b)$和点$C(x_c,y_c,z_c),D(x_d,y_d,z_d)$ 则： $\vec{ab}=(x_b-x_a,y_b-y_a,z_b-z_a)$ $\vec{cd}=(x_d-x_c,y_d-y_c,z_d-z_c)$ 向量的积： $\vec{ab}\bullet\vec{cd}=|ab|\bullet|cd|\bullet\cos\theta $ $\theta=\arccos\frac{\vec{ab}\bullet\vec{cd}}{|ab|\bullet|cd|}$ 向量的模： $|ab|=\sqrt{x_{ab}^2+y_{ab}^2+z_{ab}^2}$ $|cd|=\sqrt{x_{cd}^2+y_{cd}^2+z_{cd}^2}$ 向量的夹角 因为关节点数据是三维坐标数据，R中以dataframe的格式保存，所以每个点的数据在R中也是向量的数据结构（dataframe$point) \theta=\sum_{i=1}^{i_{length}}\arccos\frac{\vec{a_ib_i}\bullet\vec{c_id_i}}{|a_ib_i|\bullet|c_id_i|}R语言实现R中的求积与求模123456789101112131415&gt; a &lt;- c(1,2,3)&gt; b &lt;- c(4,5,6)# 平方&gt; a^2[1] 1 4 9# 计算向量元素的和&gt; sum(a)[1] 6# 计算向量的模（元素平方后求和）&gt; sum(a^2)[1] 14# 向量的积（a,b向量中各个元素相乘）&gt; a*b[1] 4 10 18&gt; 四个点，形成两个向量，通过向量计算角度 1234567angle &lt;- function(a,b,c,d)&#123; ab &lt;- b-a cd &lt;- d-c cj&lt;-acos(sum(ab*cd)/sqrt(sum(ab^2)*sum(cd^2))) cj &lt;- rtod(cj) return(cj)&#125;]]></content>
      <categories>
        <category>biomechanics</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[R语言笔记]]></title>
    <url>%2F2018%2F05%2F05%2FR%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[1 Rstudio快捷键 Alt + - 快捷输入 &lt;- 2 R中字符串操作字符串链接 paste( )1paste(..., sep = " ", collapse = NULL) 用法：… 为字符； sep=” “ 中的 “ “ 为分隔符； collaspse= NULL表示连成一个字符串，如果将NULL修改成 “,” 则将字符连接成一个字符，并用 ，分隔。例：1234567891011&gt; paste("A","B")[1] "A B"&gt; paste("A","B",sep=",")[1] "A,B"&gt; paste("A",1:3,sep="")[1] "A1" "A2" "A3"&gt; paste("A", 1:3 ,sep = "" ,collapse = ",")[1] "A1,A2,A3" 字符串替换 gsub( )12gsub(pattern, replacement, x, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE) 用法：pattern 为需要替换的字符；replacement为替换后的字符；x为包含字符的向量。例：1234567891011&gt; a &lt;- "abc,d"&gt; a[1] "abc,d"&gt; b &lt;- gsub("a","x",a)&gt; b[1] "xbc,d"&gt; b &lt;- gsub(",", "x", a, fixed = TRUE)&gt; b[1] "abcxd" 3 批量赋值 assign( )12assign(x, value, pos = -1, envir = as.environment(pos), inherits = FALSE, immediate = TRUE) 用法：将value 的值赋给x例：1234567891011&gt; value &lt;- c(1:3)&gt; x &lt;- c("a","b","c")&gt; &gt; for (i in x) &#123;+ assign(i,value)+ &#125;&gt;a[1] 1 2 3&gt;b[1] 1 2 3&gt;c[1] 1 2 3]]></content>
      <categories>
        <category>r</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Communicate with CL]]></title>
    <url>%2F2018%2F03%2F08%2FCommunicate-with-CL%2F</url>
    <content type="text"><![CDATA[为啥要写这个？因为好久没有写过流水账了。当初折腾这个博客为的是给自己一个空间，写写自己的笔记什么的反正也不会有人看。事实也是如此，真没有人看。反而忽略了博客的一个原始功能—抒发一下自己的小情绪。 从过年就开始写文章，发现自己真的没有写过一篇真正的文章，所以想要好好写。但当真的写起来的时候却是暴露了自己的许多问题。看过一些写作的方式，也聊过如何写作。没有实践就是没有实践，无论别人叙述的多么美好。曾经看过一篇文章《施一公:一个通宵如何写出《nature》《cell》论文 他是如何做到的?》好像写作也不是天大的事，有积淀一晚上就能写好。但那是施一公，不是我，我没有写过，就是没有写过。不可能一晚上搞定，更不可能一晚上就nature。 CL是谁？CL是我师兄，一个经常骂我sb的人。在写论文的方面是一位值得学习的对象。也是今晚聊天的对象。写出一篇论文从他的嘴里也不是什么太难的事情，一周投稿1-2篇吧。但是今天他没有说我是sb，可能他觉得我写了这么久不愿意伤害我，或者觉得写得还行吧。CL说起写文章都已经是一套一套的了，“如果我有好的数据，一天就能写完，一个小时一千字，写的多的人都是这样的。例如写雪地的跑步，别人没有写过，有人说这样好，有人说这样有问题，发生学术上的争论。我设计的实验是什么样，得出什么样的数据。这样的数据怎么解释，和谁的理论相符，和谁的理论不符。为啥会有这样的情况？年龄问题，人群问题，我的实验对象是怎样的，得出什么结论，论文的缺点，今后研究的方向。。。。”不得不说，受益匪浅。 还谈了啥？作为两个愤青，对于社会的现象是可定要拿出来抨击的。社会太复杂，人心太浮躁，还是希望自己或者自己从事的事情更单纯一点吧。相对来说我俩所从事的事情已经比较单纯了，但是正是这样才感觉需要更加的纯净才好。因为不会搞关系，也从来不去送东西，也不会在酒桌上放肆的“交际”。我不想，因为我感觉身边这样做的人，都希望自己得到的可以通过捷径获得。不可否认，确实有成功的例子，也有通过自己努力再加上所谓的高情商达到目的的人。但是，我真的不想。我希望能够更直白一些的生活。从小就教育要怎样做人，做一个纯粹的人什么的，可能精明这个词永远不会落在我的身上吧。 情商高的人情商高的人，可以见到需要的人一秒立马变身另一个人。也可以在落难之际，找出一千万个理由推卸自己的责任，无论理由多么荒诞，任然可以说的有逻辑。懂得用人之道，啥叫用人之道？我觉得可能是让别人不知不觉中做了自己原本不想做的事情吧。人脉，交际是靠啥？我猜靠资源吧，看似情谊的深厚，实则是权力、物质的交易，把大家都捆在了一起，称兄道弟。心理也不是不知道，嘴上不说而已，暗示自己这样也是为了生活啊。感觉真的很有凝聚力。 做事的人一个团体中肯定有谄媚，精明的人。但是也肯得靠真正做事的人，向来书中，电视里都是大肆宣传这样的人。实际上这样的人确实能带来真正的利益。可是在做事的人还没有做出事情来的时候，他基本就是一个透明的人，没有人知道。这样的人可能情商都不够吧，也可能情商的理论和自己的价值相悖。直到他做出了团体认可的事情，自己的价值才会显示出来。而情商高的人不同，即便自己没有做出价值的事情，但是在团体中仍然能够有一定的认可。团体中的高层并不会认为一个默默无闻的人会带来怎样的效益，只会知道有一个情商高的人看似有许多贡献吧。然而情商高的人往往又与高层谄媚来往，利益捆绑，自然会有机会获利。 单纯的世界单纯的人才希望有单纯的世界，因为这样的世界即便是输掉了也认可别人的胜利。精明的人当然希望世界的复杂，这样他们的各种套路才有施展的空间，即便输掉了比赛也会有扳回一局的希望。当然精明的人获胜的概率更大。单纯人输掉比赛后也不甘心吧，以其人之道还其人之身也是一个不错的选择。最终精明的人变得更多，精明的人获胜也更多。少数单纯的人还在奋斗，但获胜变得异常艰难。的确，世界并不是单纯的，这是一个不可否认的事实。 明天会怎样？太阳照常升起，世界有没有我都一样。或许我真的不能达到自己理想的状态，但是并不能让人沮丧。该做什么还是得做，结果也很重要，但是生命更重要的是过程吧。成功失败的过程是耐人寻味的。以前往往太重视结果了，只看到了压力，并没有看到过程中还有别样的风景，这是过程中最大的趣味吧，这才是做事情最大的动力吧。而绝非结果。 情绪抒发完毕，敬礼，下台，睡觉🛌]]></content>
      <categories>
        <category>Mood</category>
      </categories>
      <tags>
        <tag>me</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Congratulations !🍻My Blog change a new themes]]></title>
    <url>%2F2018%2F02%2F21%2Fnew%20themes%2F</url>
    <content type="text"><![CDATA[I had already have a long time to update my blog. Because I changed my PC to MAC. My blog is free and it use Hoxe rely on GitHub. Means it should use Git to connect, and Git has a SHH (like a code). When I change my computer I must change my SHH and arrange Hexo again.I did it and update a new post, a discus note, then I got a problem. There are some formula in it. If you want show the formula in blog the markdwon document should be transform to HTML, and the formula should transform from LaTeX to Mathjax format.The formula like/$ \cos 2\theta = \cos^2 \theta - \sin^2 \theta = 2 \cos^2 \theta - 1/$will transform\cos 2\theta = \cos^2 \theta - \sin^2 \theta = 2 \cos^2 \theta - 1,never show correct style$\cos 2\theta = \cos^2 \theta - \sin^2 \theta = 2 \cos^2 \theta - 1$Another problem again. I search many websites and it didn’t work, feel maybe the themes did not support mathjax format.So I decide change my blog themes to Next.congratulations! We have a hole new website!And it welcome the new year, by the way.I will keep writing fighting !!!]]></content>
      <categories>
        <category>new</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>themes</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Discus Throwing Reference Note]]></title>
    <url>%2F2017%2F12%2F23%2Fdiscus%20throwing%20reference%20note%2F</url>
    <content type="text"><![CDATA[The associations of selected technical parameters with discus throwing performance: A cross-sectional study Leigh, S., &amp; Yu, B. (2007). The associations of selected technical parameters with discus throwing performance: a cross-sectional study. Sports Biomechanics / International Society of Biomechanics in Sports, 6(January 2015), 269–284. https://doi.org/10.1080/14763140701489744 Abstract :The aim of this study was to identify associations between discus throwing performance and the technical parameters of: hip–shoulder and shoulder–arm separation, trunk forward–backward tilt, and throwing-arm elevation angles.研究的目标是确定运动表现和技术参数的关系：髋-肩和肩-上臂分离，躯干前后倾以及投掷手臂的仰角。 ——研究目的Video data of male and female discus throwers’ competitive performances were captured during major competitions. Real-life。Real-life three-dimensional coordinates of 21 body landmarks, and the discus’s centre, were obtained for 94 trials using the direct linear transformation procedure.Each technical parameter was reduced at six critical instants（关键帧）.The trend of each parameter across four standards of performance was analysed separately for both sexes. ——研究方法For the female throwers, hip–shoulder and shoulder–arm separations after the flight phase, as well as forward– backward trunk tilts at the beginning and end of the throwing procedure were associated with performance. 对于女性运动员，髋-肩和肩在腾空阶段分离和投掷过程中前后躯干倾斜角度与运动表现有联系。 For male throwers, only the hip–shoulder separation immediately before the flight phase was associated with performance. 对于男性运动员，只有腾空阶段之前髋-肩立即分离与运动表现有联系。 These findings suggest that the relationships between technical parameters and discus throwing performance are different for males and females. 研究建议技术参数和铁饼投掷的运动表现的关系在男性和女性之间有区别。 ——研究结果 Our results suggest that elite female discus throwers are reliant on effective technique throughout the throwing procedure to achieve long distances, whereas male discus throwers may have a relatively homogeneous technique, and a dependence on physical strength to achieve their long throws.我们的结果：优秀女子铁饼运动员在投掷过程中通过依靠有效的投掷技术来达到较好的成绩，而男子铁饼运动员可能具有相同的投掷技巧，通过身体力量来达到较好的成绩。 ——研究结论 IntroductionThe most important component of official distance is the vacuum flight distance.官方距离最重要的组成部分是真空飞行距离。The vacuum flight distance of the discus is dependent on discus release characteristics: the release speed, and the angle and height of release.铁饼的真空飞行距离取决于铁饼的出手特征：出手速度、出手角度和高度。Among these release characteristics, release speed is the single most important determinant of the difference in vacuum flight distance among athletes (Bartlett, 1992; Hay and Yu, 1995).整个出手特征中，出手速度最重要。The official distance thrown determines the winner of each competition. The most important component of official distance is the vacuum flight distance, although the aerodynamic distance and the distance lost at release also affect official distance(Hay and Yu, 1995).官方成绩决定了运动员的名次。官方成绩最重要的组成部分是真空飞行距离。The vacuum flight distance of the discus is dependent on discus release characteristics: the release speed, and the angle and height of release.真空成绩取决于出手特征：出手速度，出手角度和出手高度。Among these release characteristics, release speed is the single most important determinant of the difference in vacuum flight distance among athletes (Bartlett, 1992; Hay and Yu, 1995).整个出手特征中，出手速度是一个重要特征。To achieve the longest vacuum flight distance, athletesmust carefully control their releases so that the discus is thrown at the maximum height possible, combined with optimal release angles, and most importantly with the maximum possible speed, which is the most important factor contributing to the vacuum flight distance, and therefore long throws (Bartlett, 1992; Hay and Yu, 1995).为达到最长的真空飞行，运动员细心的控制出手特征。All other release characteristics lie within a limited range of values, and may only be important in the manner in which they affect release speed (Hubbard, de Mestre, and Scott, 2001).所有出手的特征都在一个有限的范围内，并且可能只在影响出手速度的方式中起重要作用。From complex, high-speed movements made within the confined space of the throwing circle, an athlete may be able to increase the release speed above that possible with a standing throw alone (Hay, 1993).在投掷圈的受限空间内，从复杂、高速的动作中，运动员可以通过单独投掷提高其速度。Therefore, optimizing technique to achieve the largest release speed is vital in discus throwing.因此，优化技术以获得最大的出手速度是铁饼投掷的关键。The flight of the discus after release has been thoroughly examined, most often using a wind tunnel to investigate the aerodynamic properties of the discus itself (Frohlich, 1981; Ganslen, 1964; Taylor, 1932;Terauds, 1978b)出手后的铁饼飞行已经被完全验证了，最多的是调查铁饼在风洞中的空气动力学属性。However, the relevance to the athlete from this line of study is limited, since athletes are unable to control environmental conditions, and studying the flight of the discus in isolation to the athlete’s throwing technique does not allow for any cause and effect relationship between technique and discus flight to be determined.然而，这项研究与运动员的相关性有限，因为运动员是一种不可控制的环境条件，在要确定铁饼和运动技术关系中，任何原因和效果关系都不能孤立运动员的投掷技巧来研究铁饼的飞行。Kinetic analyses of discus throwing during competition are difficult because instrumentation of the circle with force plates during competition is not often allowed.动力学在比赛中分析铁饼的投掷非常困难，因为比赛中在投掷圈内放置测力台并不是经常允许。Therefore, the extrapolation推断 of kinetic data obtained in a laboratory setting, such as that from Yu and colleagues (Yu, Broker, and Silvester, 2002), is most practical.另外从实验室获得的运动学数据来推断是最实际的。Kinematic analysis is probably best suited to use during competition, as it causes minimal interference to the athletes.因为最小的影响运动员，运动学分析可能是最适合运用分析比赛的。Few kinematic analyses of discus throwing technique have been made, and three-dimensional investigations are especially rare.有一些铁饼投掷技术的运动学分析，然而三维研究非常罕见。While discus release characteristics such as velocities, heights, and angles have been reported (Ariel, 2000; Gregor, Whiting, andMcCoy, 1985; HayandYu, 1995; Knicker, 1990; McCoy, Whiting, Rich, and Gregor, 1985;Terauds, 1978a, 1978b;Ward, 1969), these have rarely been linked to variations in technique, and sample sizes have been small.虽然有一些铁饼的出手特征已经被报道过，例如速度、高度和角度，但是这些极少的联系到各种技术并且样本量很小。Hip–shoulder and shoulder–arm separation, trunk forward–backward tilt, and throwing-arm elevation angles are important technical parameters that are repeatedly emphasized in coaching literature (Burke, 1988; Ecker, 1971; Hay, 1993; Johnson, 1985; Knicker, 1988; Maughan, 1964).髋-肩和肩-肘角度，躯干前后倾角度以及投掷臂升高角度是非常重要的技术参数，它们经常在教练的书籍中反复强调。A recent extensive literature review, however, failed to reveal any scientific evidence to support the coaching literature.最近大量的文献调查，都缺少科学的证据来证明教练的书籍。Furthermore, the kinematic analyses performed by Susˇanka and colleagues (Sus ˇanka, Dumbrovsky ˆ, Barak, S ˇtepa ´nek, and Nosek, 1988), Knicker (1990), Lindsay (1991), and Hay and Yu (1995) did not identify an ideal technique.而且，运动学分析都没有识别出理想技术。The selected technical parameters can clearly describe actions of a discus thrower throughout自始自终 the throwing procedure.选择的技术参数可以清楚的描述整个投掷过程的铁饼投掷动作。The angles between the hips and the shoulders and between the shoulders and the throwing arm are representative of the amount of stretch experienced by the trunk rotators and arm horizontal adductors内收.投掷臂的髋肩-肩肘角度代表总的躯干旋转和上肢水平内收的伸展经验。The angles of trunk forward–backward tilt and of the elevation of the throwing arm have been used in kinematic analyses of the shot put (Alexander, Lindner, and Whalen, 1996; Young and Li, 2005) to describe body orientation during the throwing procedure.躯干的前倾-后仰角度和投掷臂的升高曾用于铅球的运动学分析，来描述投掷过程中身体的方向。These technical parameters, together with anthropometric parameters of the individual athlete, largely determine the height and angle of release (Hay, 1993; Sˇtepa ´nek, 1990).这些技术参数结合人体测量学的个体参数在很大程度上决定了运动员的出手高度和角度。We believe the trunk forward–backward tilt and throwing-arm elevation angles are associated with the vertical distance travelled by the discus during the throwing procedure, which influences the vertical velocity at release and, therefore, the speed and angle of release.我们认为，躯干向前向后倾斜和投掷手臂仰角与铁饼投掷过程中的垂直距离有关，这影响了投掷时的垂直速度，因此影响了投掷的速度和角度。We believe that the second single support phase is the most important time to increase vertical velocity, since it is the phase that immediately precedes优先 the release.我们认为第二次单支撑阶段是提升垂直速度最重要的时间，因为这个阶段直接优先于出手。 MethodsparicipantsAltogether, 93 legal trials of 51 male and 42 female discus throwers competing in the men’s and women’s discus throw finals of the 1990 Goodwill Games, the 1990 US Olympic Festival, and the USNationalOutdoor Championships and OlympicTeamTrials from 1997 to 2005 were included in this study. In the case of an athlete having multiple trials available for analysis, his or her performance with the longest official distance was selected. All throwers were right-handed. The official distances ranged from 41.55m to 68.08m for female discus throwers, and from 48.91m to 67.40m for male discus throwers. All trials were divided into four groups for each sex according to the official distances recorded at the meets: below 55m group, 55 to 60m group, 60 to 65m group, and over 65m group. The numbers of throwers in each group are shown in Tables I and II.研究包含在1990年的Goodwill, the 1990 US Olympic Festival, and the USNationalOutdoor Championships and OlympicTeamTrials from 1997 to 2005 男子51投和女子42投总共93投。 最好成绩：女：41.5-68.08 男：48.9-67.4男女分为四组分别成绩是55以下 55-60 60-65 65以上 Data collection两台S-VHS摄像机拍摄60HZ。一台在投掷圈的后面，另外一台在投掷圈的右边。主光轴约90°。使用24点标定框架标点，标定空间(2.5m long × 2m wide × 2.5m high) 。Five global reference markers were placed in the discus throwing circle for establishing a global reference frame during data reduction (Figure 1).5个球形参考点放置于投掷圈用于在数据平滑时建立一个球形参考框架。 Data reduction直接线性变换(DLT)建立真实三维坐标。X轴指向投掷方向，Y轴指向面向投掷方向的左侧，Z轴指向上方。视频从最大后摆的前5帧到铁饼出手的后4帧剪切。手工标记每一帧的人体标志点和铁饼重心。关键帧-右脚离地，左脚离地，右脚触地，左脚触地和出手从每一投的视频中识别。五个关键帧数用于同步两侧视频。三维坐标通过Butterworth low-pass digital filter 过滤，截断频率7.14Hz。所用的解析软件是MSDLT 5.5版本(北卡chapel hill自己的软件)。投掷中的6个关键时刻被识别：最大后摆，右脚离地，左脚离地，右脚着地，左脚着地和出手。(Bartlett, 1992; Hay and Yu, 1995)6个关键时刻分离出5个阶段：第一次单支撑阶段，第一次双支撑阶段，腾空阶段，第二次单支撑阶段和第二次双支撑阶段或出手阶段。(Hay and Yu, 1995) 一个躯干的参考框架建立在每一个关键时刻去计算髋-肩和肩-肘分离角。躯干的参考框架建立在这样一个相对于髋的直线上——X轴指向前方，Y轴指向左方，X轴从左右髋的中点到左右肩的中点较高的方向。The global three-dimensional coordinates of the right and left hips and shoulders and the centre of the discus at each critical instant were transferred to the trunk reference frame.每个关键时刻左右髋、肩的球形三维坐标以及铁饼的中心被转化为躯干的参考框架中。髋肩分离角α和肩肘分离角β计算的方式： \alpha=\arccos \Big( \frac{\upsilon_s \bullet\upsilon_h}{|\upsilon_s||\upsilon_h|}\Big) \beta=\arccos \Big( \frac{\upsilon_d \bullet\upsilon_s}{|\upsilon_d||\upsilon_s|}\Big) 此公式是空间两直线求夹角的公式：设两条直线的方向向量分别为S1=(m1,s1,p1）、S2=(m2,s2,p2),模分别为|S1|、|S2|,两条直线的夹角a则: \cos a=\frac{S1\bullet S2}{(|S1||S2|)} a =\arccos \bigg( \frac{S1\bullet S2}{(|S1||S2|)}\bigg) $v_h,v_s,$和$v_d$分别是右髋到左髋，右肩到左肩和铁饼中心到右肩的向量，在XY平面如图所示。 定义髋-肩和肩-肘分离角。髋-肩分离角是计算每个关键时刻XY平面身体框架左右宽关节中心向量与左右肩关节中心向量的夹角。The line of the hips leading the line of the shoulders is defined as a positive angle正角. 由髋轴领导的肩轴组成的夹角定义为正角。每个关键时刻由左右肩关节中心向量和右肩中心与铁饼中心向量在躯干参考框架XY平面上所形成的夹角为肩肘分离角。肩轴领导投掷臂轴定义为正角。 The value of a was positive if the vector product of vs and vh was pointing towards the superior direction, which meant that the right hip was leading the right shoulder. The value of a was negative if the vector product of vs and vh was pointing towards the inferior direction, which meant that the right shoulder was leading the right hip. The value of b was positive if the vector product of vd and vs was pointing towards the superior direction, which meant that the right shoulder was leading the right arm. The value of b was negative if the vector product of vd and vs was pointing towards the inferior direction, which meant that the right arm was leading the right shoulder.如果向量$v_s$和$v_h$的乘积指向向上的方向，α是正值，意味着右髋引导右肩。如果向量$v_s$和$v_h$的乘积指向向下的方向，α的值是负值，意味着右肩引导右髋。如果向量$v_d$和$v_s$的乘积指向向上的方向，β的值是正的，意味着右肩引导右臂。如果向量$v_d$和$v_s$的乘积指向向下的方向，β的值是负的，意味着右臂引领右肩。 superior 和 inferior在解剖中是指上和下的关系Now, there are more directional terms than just toward the front or the back of something. We also have the term superior, which means towards the head or above something, and the word inferior, which means towards the feet or below something1. line of the hips, the y-axis was parallel to the horizontal plane and pointing towards the left side of the trunk, and the z-axis was pointing upwards and perpendicular to the horizontal plane. The trunk forward–backward tilt angle, left–right tilt angle, and left–right rotation angle were defined as the three Euler rotations of the trunk reference frame relative to the ground reference frame with an x-y-z rotation order. Trunk forward–backward tilt is reported as the first rotation of the Euler angles. A positive value of x indicated a forward trunk tilt, while a negative value of x indicated a backward trunk tilt (Figure 3). This can be thought of as pure forward–backward trunk tilt. Isolated trunk left–right tilt was not calculated.为了确定躯干前倾后仰交（$\chi$），建立一个X轴方向指向髋轴前方，Y轴指向躯干左侧并且平行于水平面，Z轴指向上方并且垂直于水平面的大地坐标系。躯干前后倾角，左右倾角和左右旋转角度定义为相对于大地坐标系以躯干框架带有x-y-z旋转顺序的三个欧拉角。躯干前后倾角视为欧拉角的第一次旋转。$\chi$的正值表明躯干前倾，而负角表示躯干后仰（图3）。这样就可以认为是一个纯粹的躯干前倾后仰。独立躯干的左右倾斜而不计算。 投掷臂提升角($\delta$)为计算每个关键时刻： \delta= \arctan\Bigg[ \frac {z_d-z_{s,r}}{\sqrt{(x_d-x_{s,r})^2+(y_d-y_{s,r})^2}}\Bigg]where xs,r, ys,r, and zs,r,and xd, yd, and zd, are the three-dimensional coordinates measured in the global reference frame of the right shoulder joint centre and the centre of the discus, respectively. A positive value of d indicated that the position of the discus was higher than that of the right shoulder, whereas a negative value of d indicated that the position of the discus was lower than that of the right shoulder (Figure 4).$x_{s,r}$ ,$y_{s,r}$,$z_{s,r}$和$x_d$，$y_d$，$z_d$是以右肩中心与铁饼中心的球形坐标系的各自三维坐标。$\delta$正值表示铁饼的位置高于右肩，当$\delta$值为负值表示铁饼的位置低于右肩(图4)。 Data analysisThe male and female throwers were analysed separately in an attempt to control for confounding factors that were not controlled for in this study.分别分析男性和女性的投掷者，试图控制在本研究中未被控制的混杂因素。The four groups based on official distance for each sex were coded as groups 1 to 4, where grouping generally represented performance, and was used as the dependent variable for statistical analyses.根据每个性别的官方距离的四组被编码为组1至4，其中分组通常代表表现，并且被用作统计分析的因变量。The difference in sample size of the groups was accounted for by weighting the means for each group with respect to sample size.组间样本量的差异是通过对每个组的样本量进行加权平均来解释的。Linear trend analyses were performed to determine the trend of the mean hip–shoulder and shoulder–arm separation angles, and the mean trunk forward–backward tilt and throwing-arm elevation angles at each critical instant with group, as well as the trend of the maximum angles of trunk forward–backward tilt and throwing-arm elevation during the second single support phase with group.进行线性趋势分析，以确定平均髋-肩和肩-臂分离角度的趋势，每组关键时刻的平均躯干前后倾角和投掷臂仰角以及在第二次单支撑阶段躯干前后倾角和投掷臂抬高的最大角度。A linear trend analysis assesses whether the slope of the standardized regression line is equal to zero, and so if the dependent variable is significantly related to the independent variable.线性趋势分析评估标准化回归线的斜率是否等于零，如果等于零则因变量与自变量显着相关。A linear trend analysis is a more sophisticated version of a simple correlation, because the F-ratio directly reflects the strength of the association between the two variables.线性趋势分析是一个简单相关的更复杂的版本，因为F比率直接反映了两个变量之间关联的强度。The significance level for the F-test and t-test of a linear trend analysis is the same (since the square of the t is the same as the F-ratio); however, both statistics will be reported since the sign of the t indicates the direction of the relationship (Elston and Johnson, 1994; Myers andWell, 1991). An a priori type I error rate of α= 0.05 per comparison was chosen to indicate statistical significance. The alpha level for each individual test was not adjusted because the trend of each technical parameter with discus throwing performance was analysed in isolation.We did not consider the associations of combinations of technical parameters with performance, or the inter- relationships between technical parameters. All statistical analyses were performed with SPSS version 11.5 statistical software (SPSS Inc., Chicago, IL.). 写的啥，看不懂，google翻译的线性趋势分析的F检验和t检验的显着性水平相同（因为t的平方与F比率相同）。 然而，这两个统计数据将被报告，因为t的符号表明了关系的方向（Elston and Johnson，1994; Myers and Well，1991）。 选择每个比较a = 0.05的先验I型错误率来表示统计学显着性。 由于各项技术参数对铁饼投掷性能的影响是单独进行分析的，我们没有考虑到每个单项测试的α水平。我们没有考虑技术参数组合与性能的关系，或者技术参数之间的相互关系。 所有统计分析均采用SPSS 11.5版统计软件（SPSS Inc.，Chicago，IL）进行。 ResultDiscussion and implicationConclusionAlthough the results of this study may not be applicable to a different population of discus throwers, they provide important information to coaches and elite discus throwers and the following conclusions appear warranted:虽然这项研究的结果可能不适用于不同人群的铁饼运动员，但他们为教练员和铁饼运动员提供了重要的信息，并得出如下结论： Large hip–shoulder and shoulder–arm separations after the flight phase, and more forward trunk tilt at the beginning and more backward trunk tilt at the end of the end of the throwing procedure, are important technical characteristics of elite female discus throwers with long official distances. 飞行阶段后较大的髋-肩和肩-臂分离，开始阶段过多的前倾，以及出手阶段后期过多的后倾是官方成绩较好的优秀女子铁饼运动员的重要技术特征。 Hip–shoulder and shoulder–arm separations, trunk forward–backward tilts, and throwing-arm elevations may not be important technical parameters that differentiate the performances of elite male discus throwers. 髋-肩，肩-臂分离，躯干前后倾，投掷臂抬高可能不是区分男子铁饼优秀运动员表现的重要技术参数。 Female discus throwers should concentrate on increasing their hip–shoulder and shoulder–arm separations after the flight phase, and releasing the discus when the lines of the hips, shoulders, and throwing arm are parallel. They should also increase their backward trunk tilt during the delivery phase. 女子铁饼运动员应该集中精力在飞行阶段之后增加他们的髋-肩和肩-臂分离，并且在髋轴，肩轴和投掷臂轴的线条平行时释放铁饼。 在出手阶段，他们也应该增加躯干后倾的角度。Further investigations are needed to determine which other technical parameters can help differentiate between the performances of male discus throwers and which combinations of technical parameters may differentiate the performances of both male and female discus throwers.还需要进一步调查，以确定哪些其他技术参数可以帮助区分男性铁饼运动员的表现以及哪些技术参数的组合可以区分男性和女性铁饼运动员的表现。 国内、外优秀女子铁饼运动员掷铁饼技术的比较研究林辉杰,梁海丹,严波涛,许崇高,张勇. 国内、外优秀女子铁饼运动员掷铁饼技术的比较研究[J]. 中国体育科技,2013,49(01):71-77.国家体育总局重点实验室项目（２０１１Ｂ０２５）；上海体育学院研究生教育创新基金项目（ｙｊｓｃｘ２０１２０１３）。 前 言对 国 内、外优秀女子铁饼运动员掷铁饼技术特征的比较，有助于掌握与克服我国与国外运动员技术的优势与劣势，为我国运动员备战世界大赛提供科学训练依据。目前，对于我国优秀女子铁饼运动员掷铁饼技术运动学特征的研究还是较多的，但 是，由 于 条 件 的限制，对于国内、外优秀女子铁饼运动员技术直接比较的文献还未曾发现。在本研究中，将我国重点运动员李艳凤（２０１１年大邱世界锦标赛冠军）、谭 建（２０１１年 大 邱 世 界 锦标 赛 第６名）与多名国外优秀女子铁饼运动员技术的运动学特征进行比较，旨在探索我国运动员技术的优、缺点以及国外运动员的技术特点，从而揭示优秀女子铁饼运动员的一些重要技术特征，为我国女子铁饼运动员的科学训练提供参考。 研究对象与方法测试对象本研究选取了２名国内与５名国外优秀女子铁饼运动员作为研究样本，这些运动员个人最好成绩均在奥运会Ａ标（６２ｍ）之 上，本 次 测 量 成 绩（２０１１年 国 际 田 径 钻 石 联赛 上 海 站）均 在奥运会Ｂ标（５９．５ ｍ）之上，基本上代表了目前世界女子铁饼项目的最高水平（表１）。 要对运动员的水平进行分析，在国内的水平如何，在国外的水平如何。 研究方法本研究将铁饼技术分为５个 时 相，分别为第1双支撑阶段、第１单支撑阶段、腾空阶段、第 ２ 单支 撑阶段（过 渡阶 段）以及第２双支撑阶段（最 后 用 力 阶 段）。以 右手持饼为例，第１双支撑阶段是指从预摆结束至右脚离地时刻；第１单支撑阶段是指从右脚离地至左脚离地时刻；腾空阶段是指从左脚离地至右脚着地时刻；第２单支撑阶段是指从右脚着地至左脚着地时刻；第２双支撑是指从左脚着地至铁饼出手时刻。 同样是将投掷动作划分为5个阶段。第一次双支撑，第一次单支撑，腾空阶段、第二次单支撑，第二次单支撑(出手阶段)。 采用2台casio fh25摄像机，主光轴90°夹角，拍摄频率120fps。机高1.2m。用simi解析。选 择 左 右 侧 手、肘、肩、髋、膝、踝、脚 尖 以 及 头、肩 轴中 点、髋轴中点以及铁饼点等 ２０ 个 点 进 行 解 析。人体以及环节重心等人体惯性参数依据 dempster人体参数模型计算获得，采用数字滤波进行噪音处理，截止频率选择为８Ｈｚ。 技术指标真空距离：铁饼飞行的真空距离是去除了流体的影响后铁饼在理论飞行的距离2，计算公式如下： d= \frac{S_R^2\sin\theta_R \cos\theta_R+S_R\cos\theta_R\sqrt{[(S_R\sin\theta_R)^2+2gh_R]}}{g}Reference1.解剖学的解释：链接地址 ↩2.Hay J G&amp; Bing Yu. Critical characteristics of technique in throwing the discus[J]. Journal of Biomechanics 1995,26(2):125. ↩]]></content>
      <categories>
        <category>biomechanics</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>Discus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[论文写作笔记]]></title>
    <url>%2F2017%2F08%2F30%2F%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[想要搞好学术研究，就离不开写论文。现在随着网络和计算机技术的发展，论文也就不单单是paper，几张纸，那么简单。文献已经成为一个系统，所以文献的收集和整理也变成了一个系统的工作。而利用网络和计算机技术来收集整理文献，在论文写作的时候可以起到事倍功半的作用，从而提高工作效率，空余出时间来提升生活质量。 ————一些废话可以略过 我知道有个朋友，下载了好几个G的文献，用几十个文件夹分类。这种精神我很敬佩，但是这样的方式非常不方便，如果突然想要看一篇文章又忘记了在哪个文件夹，题目是什么，要把它找出来就非常不方便了。还有一个朋友，想搞好学术，开始下载国外学术论文软件，发现可以有交流的功能，自诩要与国外学者侃侃而谈。然而轮到自己写论文时连文献下载都有困难重重，看两篇文献后开始百度百科。。。 可见平时的积累很重要，科学的方法也很重要。 这几天学习整理这方面的资料也是搞神经了，国外也有很多科研工具1我把我的一些方法放在这里。之后随时更新。 文献收集整理国内文献资料收集国内文献下载就知网，其他的我都没有用，怎么下载我也不太清楚（我都是用的学校的图书馆），反正用百度学术就好了。 国外文献资料收集其实国内的学术态度大家都懂，论文大多都比较翔。前端的，有价值的文献还是在外文期刊中。外文期刊搜索引擎可以使用： 百度学术——在这里我要给百度学术点个赞，有可以直接下载的连接，感觉比Google好用。 Google学术(打不开的同学请科学上网) SciHub——SCI文献下载第一站,扫除一切学术障碍，俄国朋友真心牛逼。 PubMed——医学文献数据库（这里吐槽一下学校图书馆的PubMed连接出问题了，竟然好久都不知道，直到一个外聘的教授查文献才发现。。。） 虫部落学术搜索——国内做的包含许多文献库，界面丑陋无比。 Researchgate——相当于学术界的Facebook，大家把自己的文章发布到上面可以相互讨论，有些文章提供下载。 文献资料整理文献资料整理主要是方便文献的查找阅读和引用。利用文献管理软件来完成。在写作时，把你的文献导出bib.格式可以很方便的插入到你的文章参考文献处。如果一个一个的插入会手残的吧。 NoteExpress——国内的文献管理系统，因为国外的文献管理系统大多不支持中文所以，校园网内可以免费使用。管理国内的文献还是支持中文的好用。 EndNote——国外的文献管理软件，在国内很多人用，但是我不喜欢。 Mendeley——本人使用感觉良好，界面美丽。有2G的云同步，支持Windows，IOS，电脑手机可以同步在线看文献，导出文献，做笔记。只是不能下载文献，需要上传自己的文献PDF到云，但是我有SciHub怕什么呢？ Zotero——国外的很多同志喜欢，我没有用过。 论文写作如果就是喜欢用word写作完了后改格式我也没有什么好说的，但是一边修改格式一边写作的话就会使效率非常低下。 我的方法是使用Markdown+Pandoc+GitHub。Markdown本身的哲学思想就是专注于写作，这是 一种非常好的写作方式，去除格式的干扰，只用码字。另外Markdown也可以快速插入数学公式、表格、图片、和参考文献（.bib）。Pandoc是和Markdown相配套，让Markdown用于生成其他的文本格式，如HTML，Docx，LaTex，Pdf等等。这样的好处在与写完之后在各种平台上相互转化。比如文章写好后要修改，就转成Docx；上传到博客就用Markdown，或者HTML；有些时候有LaTex的模板，就转为Pdf（但是LaTex制作起来就不那么容易了）。GitHub是用于分享代码的网页，但是现在越来越强大，连这个博客都是建立在GitHub上。GitHub在对于论文写作的好处在于可以实现合作编写文档并能够很好的进行版本控制。 Conversion. I am still chasing the « One file to rule them all » dream: one master file for all kind of outputs, from PDF to html, xml, and so on. I became of big fan of Markdown (a very simple markup language) for the first draft, and am seriously considering it as my master format, relying on Pandoc (free) for all the conversions. Solutions for collaborative writing. As soon as you are not alone on a writing project, you have several options to collaborate. And no, emailing the files back and forth to your colleagues is not a suitable option. Depending on your colleagues and your geekiness level, you have many options, including Google Docs (excellent for comments and review mode), GitHub in combination with Markdown, Overleaf (free)(for LaTeX fans), etc. Bonus point for Mendeley for automatically populating your library with the references cited in the file you received and not in your library yet. Very useful. 参阅Sylvain Deville 的blog有详细的介绍2，也可以看看杨志平的网站3。 在这里我推荐两个Windows的Markdown编辑器（因为我只有Windows(ㄒoㄒ)）。 Atom ——在Github上使用最多的编辑器，非常多的插件。其中Markdown的插件也是非常的厉害。 Typora——界面简洁美观，有Focus Modle和Typewriter Modle并且可以直接导入Docx，导出Docx、Pdf、LaLex。” 还有两个写论文非常好的在线工具： Madoko——非常像Markdown版本的word，功能很强，可以类似word操作排版！ authorea——一个使用Markdown写作，类似GitHub分享后让大家审阅修订的网站，可惜没有几个中国人。 写作流程运用这个流程现在已经可以运作了。使用Markdown可以实现多种格式的转换，当然用的最多就是Docx，不过要Pdf的话不能直接转换，因为Pdf排版是很麻烦的一件事，Latex虽然是排版之王但是还是太复杂了，因为还要用到code。想要用，好除非安心花一点时间去学习。 总结一下但是毕竟用Markdown来进行论文写作的人还是不多，用GitHub来进行版本控制的人也不多。大多数人都是word一直用到底，毕竟是小众啊，毕竟是Geek啊。其实word能用好也是很快速的，Markdown的好处就是代码，更加简洁，不要想排版，让写作更加专注于内容。其实我的初衷是找一个写论文和写post可以相互转化的平台，所以找到了Markdown。 1.这里有个科研工具翻译的网站：http://www.jianshu.com/p/851100273d7a ↩2.Sylvain Deville的博客地址：https://sylvaindeville.net/ ↩3.杨志平的网志地址：http://www.yangzhiping.com/ ↩]]></content>
      <categories>
        <category>papers</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mrakdown 常用语法简要说明]]></title>
    <url>%2F2017%2F08%2F26%2Fmarkdown-%E8%AF%AD%E6%B3%95%E7%AE%80%E8%A6%81%E8%AF%B4%E6%98%8E%2F</url>
    <content type="text"><![CDATA[标题123456# 这是 &lt;h1&gt; 一级标题## 这是 &lt;h2&gt; 二级标题### 这是 &lt;h3&gt; 三级标题#### 这是 &lt;h4&gt; 四级标题##### 这是 &lt;h5&gt; 五级标题###### 这是 &lt;h6&gt; 六级标题 强调符号12345*斜体* _斜体_**粗体** __粗体__~~这个文字将会被横线删除~~` 高亮文本 ·` ~~_也可以**组合** 这些符号_~~ ` 效果： 斜体 _斜体_粗体 粗体这个文字将会被横线删除高亮文本_也可以组合这些符号_ 链接外部链接文档中的文字链接外部网站的 样式：[输入文字](网址) 1这是我的网站：[gazelle](gaozelle.github.io) 的链接 效果： 这是我的网站：gazelle 的链接 但是这样书写会造成阅读的不方便，所以可以使用另外一种样式。 样式：[输入文字] 样式：[输入文字]: 网址（可以放在文档中其他任意地方，例如文档中或者结尾。并且链接网址不会出现在文档中。） 123456点击名称访问同网站 ：[Google][] ，[Yahoo][] ， [MSN][]。 [google]: http://google.com/ [yahoo]: http://search.yahoo.com/ [msn]: http://search.msn.com/ 效果: 点击名称访同网站 ：Google ,Yahoo ,MSN。 内部链接在文档中，跳转到其他位置。 样式：[输入文字](# 标号) 脚注脚注功能需要Pandoc的支持。 样式：输入的文字[\^1]输入的文字 样式：[\^1]: 我是脚注 效果： 输入的文字1输入的文字 引用@+.bib的文章引用名称，字YAML中插入，—Bibliographies=xxx.bib 也可以在YAML中声明Meta data，编译完于文章后标注。[@Pugh1971] 马拉松的脚注@Hausswirth1997 表格1234567891011121314------------------------------------------------------------- Centered Default Right Left Header Aligned Aligned Aligned----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here's another one. Note the blank line between rows.-------------------------------------------------------------Table: Here's the caption. It, too, may spanmultiple lines. 图片插入gazelle的图片：先把图片放到图床，然后使用网络连接。或者直接使用本地的Path。 ![2b9dec9acd63fc9aab58b6a1119ce08b](https://i.loli.net/2017/08/28/59a38521b5b53.png) References1.我是脚注 ↩]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[marothron 笔记]]></title>
    <url>%2F2017%2F08%2F23%2Fmarothron%2F</url>
    <content type="text"><![CDATA[Background 马拉松跑的技术大致和长跑技术相似。由于它的距离长，并且是在地形不一的公路上进行，因此在技术上有其独有特点。在跑步时，上体微向前倾或正直。后蹬的力量较小，大腿向前上方的摆动比较低。从外形上看，蹬地后小腿向上摆的动作比长跑小些。脚的落点离身体重心投影点较近，并且用全脚掌或脚的外侧先着地，再过渡到全脚掌，着地时应柔和而有弹性，脚应很好地弯曲、缓冲。但目前对马拉松赛跑的成绩与跑步技术动作的科学研究偏少，很大程度上阻碍了该项运动的发展，因此，探索马拉松运动跑步动作技术的最有效方法对普及与提高我国马拉松运动的发展具有重要的意义。 Abstract：Running economy (RE) has a strong relationship with running performance, and modifiable running biomechanics are a determining factor of RE. The purposes of this review were to (1) examine the intrinsic and extrinsic modifiable biomechanical factors affecting RE; (2) assess training-induced changes in RE and running biomechanics; (3) evaluate whether an economical running technique can be recommended and; (4) discuss potential areas for future research. Based on current evidence, the intrinsic factors that appeared beneficial for RE were using a preferred stride length range, which allows for stride length deviations up to 3 % shorter than preferred stride length; lower vertical oscillation; greater leg stiffness; low lower limb moment of inertia; less leg extension at toe-off; larger stride angles; alignment of the ground reaction force and leg axis during propulsion; maintaining arm swing; low thigh antagonist–agonist muscular coactivation; and low activation of lower limb muscles during propulsion. Extrinsic factors associated with a better RE were a firm, compliant shoe–surface interaction and being barefoot or wearing lightweight shoes. Several other modifiable biomechanical factors presented inconsistent relationships with RE. Running biomechanics during ground contact appeared to play an important role, specifically those during propulsion. Therefore, this phase has the strongest direct links with RE. Recurring methodological problems exist within the literature, such as cross-comparisons, assessing variables in isolation, and acute to short-term interventions. Therefore, recommending a general economical running technique should be approached with caution. Future work should focus on interdisciplinary longitudinal investigations combining RE, kinematics, kinetics, and neuromuscular and anatomical aspects, as well as applying a synergistic approach to understanding the role of kinetics. 摘要: 跑步经济性（RE）与跑步成绩有着密切的关系，而可改变的跑步生物力学又是决定跑步成绩的决定性因素。本综述的目的是（1）检查影响生物力学的内在和外在的可改变的生物力学因素；（2）评估训练引起的RE和跑步生物力学的变化；（3）评估一种经济的跑步技术是否可以。建议和（4）讨论未来研究的潜在领域。根据现有的证据，对RE有利的内在因素是使用一个优选的步长范围。步幅长度偏差比步行长度短3%；低垂直振动；腿部更大的刚度；下肢低转动惯量；脚尖伸展时腿部伸展较少；洛杉矶大跨步的角；地面反力和腿在推进轴对齐；保持摆臂；大腿肌肉共同作用的–激动剂拮抗剂低；和下肢M低活化她的肌肉在推进。与一个更好的RE相关的外在因素是一个坚定的，兼容的鞋-表面互动，赤脚或穿轻鞋。几个其他的生物力学因素再不一致的关系。在地面接触的运行生物力学似乎起着重要的作用，特别是在推进过程中。因此，这一阶段具有最强的直接与RE的链接。文献中存在反复出现的方法学问题，如交叉比较、孤立评估变量和急性至短期干预。因此，recommendin一般经济运行技术应谨慎处理。今后的工作重点应放在跨学科的纵向调查研究，结合运动学、动力学，并重新neuromuscu在解剖学和解剖学方面，以及应用协同的方法来理解动力学的作用。]]></content>
      <categories>
        <category>biomechanics</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pandoc`s Markdown 语法中文翻译]]></title>
    <url>%2F2017%2F06%2F16%2Fpandoc_maneul(CN)%2F</url>
    <content type="text"><![CDATA[前言這份文件是 Pandoc 版本 Markdown語法的中文翻譯。Pandoc 本身是由 John MacFarlane所開發的文件轉換工具，可以在HTML, Markdown, PDF,TeX…等等格式之間進行轉換。有許多喜歡純文字編輯的人，利用 Pandoc來進行論文的撰寫或投影片製作。但除了轉換的功能外，Pandoc 所定義的 Markdown擴充語法也是這套工具的一大亮點，在 Pandoc 的官方使用說明文件中，光是其針對Markdown 格式的擴充就佔了整整一半左右的篇幅。 本文件翻譯自 Pandoc - Pandoc User’sGuide 中的“Pandoc’s markdown”一節。你可以看看這份文件的原始檔、產生文件所使用的HTML範本，以及轉換時的命令參數。以下翻譯開始。 Pandoc’s markdown與 John Gruber 的 原始 markdown相比，Pandoc 版本的 markdown在語法上有額外的擴充與些許的修正。這份文件解釋了這些語法，並指出其與原始markdown 的差異所在。除非特別提到，不然這些差異均可藉由使用 markdown_strict而非 markdown 的格式來關閉。單獨一項擴充也可透過 +EXTENSION 或 -EXTENSION的方式來開啟或關閉。例如，markdown_strict+footnotes 表示加上腳註擴充的原始markdown，而 markdown-footnotes-pipe_tables 則是拿掉了腳註與管線表格擴充的pandoc markdown。 哲學Markdown 是針對易於書寫與閱讀的目標而設計的，特別是在易於閱讀這點上尤為重要： 一份 Markdown 格式的文件應該要能以純文字形式直接發表，並且一眼看過去不存在任何標記用的標籤或格式指令。 John Gruber 這項原則同樣也是 pandoc 在制訂表格、腳註以及其他擴充的語法時，所依循的規範。 然而，pandoc 的目標與原始 markdown 的最初目標有著方向性的不同。在 markdown原本的設計中，HTML 是其主要輸出對象；然而 pandoc則是針對多種輸出格式而設計。因此，雖然 pandoc 同樣也允許直接嵌入 HTML標籤，但並不鼓勵這樣的作法，取而代之的是 pandoc 提供了許多非 HTML的方式，來讓使用者輸入像是定義清單、表格、數學公式以及腳註等諸如此類的重要文件元素。 段落一個段落指的是一行以上的文字，跟在一行以上的空白行之後。換行字元會被當作是空白處理，因此你可以依自己喜好排列段落文字。如果你需要強制換行，在行尾放上兩個以上的空白字元即可。 Extension: escaped_line_breaks 一個反斜線後跟著一個換行字元，同樣也有強制換行的效果。 標題有兩種不同形式的標題語法，Setext 以及 atx。 Setext 風格標題Setext 風格的標題是由一行文字底下接著一行 = 符號（用於一階標題）或 -符號（用於二階標題）所構成： 12345A level-one header==================A level-two header------------------ 標題的文字可以包含行內格式，例如強調（見下方 行內格式 一節）。 Atx 風格標題Atx 風格的標題是由一到六個 #符號以及一行文字所組成，你可以在文字後面加上任意數量的 # 符號。由行首起算的# 符號數量決定了標題的階層： 123## A level-two header### A level-three header ### 如同 setext 風格標題，這裡的標題文字同樣可包含行內格式： 1# A level-one header with a [link](/url) and *emphasis* Extension: blank_before_header 原始 markdown 語法在標題之前並不需要預留空白行。Pandoc則需要（除非標題位於文件最開始的地方）。這是因為以 #符號開頭的情況在一般文字段落中相當常見，這會導致非預期的標題。例如下面的例子： 12I like several of their flavors of ice cream:#22, for example, and #5. HTML, LaTeX 與 ConTeXt 的標題識別符Extension: header_attributes 在標題文字所在行的行尾，可以使用以下語法為標題加上屬性： 1&#123;#identifier .class .class key=value key=value&#125; 雖然這個語法也包含加入類別 (class) 以及鍵／值形式的屬性(attribute)，但目前只有識別符 (identifier/ID)在輸出時有實際作用（且只在部分格式的輸出，包括：HTML, LaTeX, ConTeXt, Textile,AsciiDoc）。舉例來說，下面是將標題加上 foo 識別符的幾種方法： 123456# My header &#123;#foo&#125;## My header ## &#123;#foo&#125;My other header &#123;#foo&#125;--------------- （此語法與 PHP MarkdownExtra 相容。） 具有 unnumbered 類別的標題將不會被編號，即使 --number-sections的選項是開啟的。單一連字符號 (-) 等同於.unnumbered，且更適用於非英文文件中。因此， 1# My header &#123;-&#125; 與下面這行是等價的 1# My header &#123;.unnumbered&#125; Extension: auto_identifiers 沒有明確指定 ID（識別符）的標題將會依據其標題文字，自動指派一個獨一無二的ID。由標題文字推導 ID 的規則如下： 移除所有格式，連結等。 移除所有標點符號，除了底線、連字符號與句號。 以連字符號取代所有空白與換行字元。 將所有英文字母轉為小寫。 移除第一個字元前的所有內容（ID 不能以數字或標點符號開頭）。 如果剩下為空字串，則使用 section 作為 ID。 以下是一些範例， Header Identifier Header identifiers in HTML header-identifiers-in-html Dogs?–in my house? dogs--in-my-house [HTML], [S5], or [RTF]? html-s5-or-rtf 3. Applications applications 33 section 在大多數情況下，這些規則應該讓人能夠直接從標題文字推導出ID。唯一的例外是當有多個標題具有同樣文字的情況；在這情況下，第一個標題的 ID仍舊是透過以上規則推導而得；第二個則是在同樣 ID 後加上 -1；第三個加上-2；以此類推。 在開啟 --toc|--table-of-contents 的選項時，這些 ID 是用來產生目錄 (Table ofContents) 所需的頁面連結。此外，這些 ID也提供了一個簡便的方式來輸入跳到指定章節的連結。一個以 ID產生的連結，其使用的語法看起來就像下面的例子： 12See the section on[header identifiers](#header-identifiers-in-html-latex-and-context). 然而要注意的一點是，只有在以 HTML、LaTeX 與 ConTeXt格式輸出時，才能以這種方式產生對應的章節連結。 如果指定了 --section-divs 選項，則每一個小節都會以 div 標籤包住（或是section 標籤，如果有指定 --html5 選項的話），並且 ID會被附加在用來包住小節的 &lt;div&gt;（或是&lt;section&gt;）標籤，而非附加在標題上。這使得整個小節都可以透過 javascript來操作，或是採用不同的 CSS 設定。 Extension: implicit_header_references Pandoc 假設每個標題都定義了其參考連結，因此，相較於以下的連結語法 1[header identifiers](#header-identifiers-in-html) 你也可以單純只寫 1[header identifiers] 或 1[header identifiers][] 或 1[the section on header identifiers][header identifiers] 如果有多個標題具有同樣文字，對應的參考只會連結到第一個符合的標題，這時若要連結到其他符合的標題，就必須以先前提到的方式，明確指定連結到該標題的ID。 與其他一般參考連結不同的是，這些參考連結是大小寫有別的。 注意：如果你有明確定義了任何一個標題的標示符，那麼選項implicit_header_references 就沒有作用。 區塊引言Markdown 使用 email的習慣來建立引言區塊。一個引言區塊可以由一或多個段落或其他的區塊元素（如清單或標題）組成，並且其行首均是由一個&gt; 符號加上一個空白作為開頭。（&gt;符號不一定要位在該行最左邊，但也不能縮進超過三個空白）。 12345&gt; This is a block quote. This&gt; paragraph has two lines.&gt;&gt; 1. This is a list inside a block quote.&gt; 2. Second item. 有一個「偷懶」的形式：你只需要在引言區塊的第一行行首輸入 &gt;即可，後面的行首可以省略符號： 12345&gt; This is a block quote. Thisparagraph has two lines.&gt; 1. This is a list inside a block quote.2. Second item. 由於區塊引言可包含其他區塊元素，而區塊引言本身也是區塊元素，所以，引言是可以嵌套入其他引言的。 123&gt; This is a block quote.&gt;&gt; &gt; A block quote within a block quote. Extension: blank_before_blockquote 原始 markdown 語法在區塊引言之前並不需要預留空白行。Pandoc則需要（除非區塊引言位於文件最開始的地方）。這是因為以 &gt;符號開頭的情況在一般文字段落中相當常見（也許由於斷行所致），這會導致非預期的格式。因此，除非是指定為markdown_strict 格式，不然以下的語法在 pandoc 中將不會產生出嵌套區塊引言： 12&gt; This is a block quote.&gt;&gt; Nested. 字面（代碼）區塊縮進代碼區塊一段以四個空白（或一個 tab）縮進的文字區塊會被視為字面區塊 (VerbatimBlock)：換句話說，特殊字元並不會轉換為任何格式，單純只以字面形式呈現，而所有的空白與換行也都會被保留。例如， 123if (a &gt; 3) &#123; moveShip(5 * gravity, DOWN);&#125; 位於行首的縮排（四個空白或一個tab）並不會被視為字面區塊的一部分，因此在輸出時會被移除掉。 注意：在字面文字之間的空白行並不需要也以四個空白字元做開頭。 圍欄代碼區塊Extension: fenced_code_blocks 除了標準的縮進代碼區塊外，Pandoc 也支援了圍欄 (fenced)代碼區塊的語法。這區塊需以包含三個以上波浪線 (~) 或反引號 (` )的一行作為開始，並以同樣符號且至少同樣長度的一行作為結束。所有介於開始與結束之間的文字行都會視為代碼。不需要額外的縮進： 12345​~~~~~~~if (a &gt; 3) &#123; moveShip(5 * gravity, DOWN);&#125;​~~~~~~~ 如同一般的代碼區塊，圍欄代碼區塊與其前後的文字之間必須以空白行作間隔。 如果代碼本身也包含了一整行的波浪線或反引號，那麼只要在區塊首尾處使用更長的波浪線或反引號即可： 12345​~~~~~~~~~~~~~~~~​~~~~~~~~~~code including tildes​~~~~~~~~~~​~~~~~~~~~~~~~~~~ 你也可以選擇性地使用以下語法附加屬性到代碼區塊上： 12345​~~~~ &#123;#mycode .haskell .numberLines startFrom=&quot;100&quot;&#125;qsort [] = []qsort (x:xs) = qsort (filter (&lt; x) xs) ++ [x] ++ qsort (filter (&gt;= x) xs)​~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 這裡的 mycode 為 ID，haskell 與 numberLines 是類別，而 startsFrom則是值為 100的屬性。有些輸出格式可以利用這些資訊來作語法高亮。目前有使用到這些資訊的輸出格式僅有HTML 與LaTeX。如果指定的輸出格式及語言類別有支援語法高亮，那麼上面那段代碼區塊將會以高亮並帶有行號的方式呈現。（要查詢支援的程式語言清單，可在命令列輸入pandoc --version。）反之若無支援，則上面那段代碼區塊則會以下面的形式呈現： 12345&lt;pre id=&quot;mycode&quot; class=&quot;haskell numberLines&quot; startFrom=&quot;100&quot;&gt; &lt;code&gt; ... &lt;/code&gt;&lt;/pre&gt; 下面這個是針對代碼區塊只有指定程式語言屬性的簡便形式： 123​```haskellqsort [] = []​``` 這與下面這行的效果是相同的： 123​``` &#123;.haskell&#125;qsort [] = []​``` 要取消所有語法高亮，使用 --no-highlight 選項。要設定語法高亮的配色，則使用--highlight-style。 行區塊Extension: line_blocks 行區塊是一連串以豎線 (|)加上一個空格所構成的連續行。行與行間的區隔在輸出時將會以原樣保留，行首的空白字元數目也一樣會被保留；反之，這些行將會以markdown 的格式處理。這個語法在輸入詩句或地址時很有幫助。 12345678| The limerick packs laughs anatomical| In space that is quite economical.| But the good ones I&apos;ve seen| So seldom are clean| And the clean ones so seldom are comical| 200 Main St.| Berkeley, CA 94718 如果有需要的話，書寫時也可以將完整一行拆成多行，但後續行必須以空白作為開始。下面範例的前兩行在輸出時會被視為一整行： 1234| The Right Honorable Most Venerable and Righteous Samuel L. Constable, Jr.| 200 Main St.| Berkeley, CA 94718 這是從reStructuredText借來的語法。 清單無序清單無序清單是以項目符號作列舉的清單。每條項目都以項目符號 (*, + 或 -)作開頭。下面是個簡單的例子： 123* one* two* three 這會產生一個「緊湊」清單。如果你想要一個「寬鬆」清單，也就是說以段落格式處理每個項目內的文字內容，那麼只要在每個項目間加上空白行即可： 12345* one* two* three 項目符號不能直接從行首最左邊處輸入，而必須以一至三個空白字元作縮進。項目符號後必須跟著一個空白字元。 清單項目中的接續行，若與該項目的第一行文字對齊（在項目符號之後），看上去會較為美觀： 123* here is my first list item.* and my second. 但 markdown 也允許以下「偷懶」的格式： 123* here is my firstlist item.* and my second. 四個空白規則一個清單項目可以包含多個段落以及其他區塊等級的內容。然而，後續的段落必須接在空白行之後，並且以四個空白或一個tab作縮進。因此，如果項目裡第一個段落與後面段落對齊的話（也就是項目符號前置入兩個空白），看上去會比較整齊美觀： 12345678* First paragraph. Continued.* Second paragraph. With a code block, which must be indented eight spaces: &#123; code &#125; 清單項目也可以包含其他清單。在這情況下前置的空白行是可有可無的。嵌套清單必須以四個空白或一個tab 作縮進： 123456789* fruits + apples - macintosh - red delicious + pears + peaches* vegetables + brocolli + chard 上一節提到，markdown允許你以「偷懶」的方式書寫，項目的接續行可以不和第一行對齊。不過，如果一個清單項目中包含了多個段落或是其他區塊元素，那麼每個元素的第一行都必須縮進對齊。 12345678+ A lazy, lazy, listitem.+ Another one; this looksbad but is legal. Second paragraph of secondlist item. 注意：儘管針對接續段落的「四個空白規則」是出自於官方的 markdown syntaxguide，但是作為對應參考用的Markdown.pl實作版本中並未遵循此一規則。所以當輸入時若接續段落的縮進少於四個空白時，pandoc所輸出的結果會與 Markdown.pl 的輸出有所出入。 在 markdown syntaxguide中並未明確表示「四個空白規則」是否一體適用於 所有位於清單項目裡的區塊元素上；規範文件中只提及了段落與代碼區塊。但文件暗示了此規則適用於所有區塊等級的內容（包含嵌套清單），並且pandoc 以此方向進行解讀與實作。 有序清單有序清單與無序清單相類似，唯一的差別在於清單項目是以列舉編號作開頭，而不是項目符號。 在原始 markdown中，列舉編號是阿拉伯數字後面接著一個句點與空白。數字本身代表的數值會被忽略，因此下面兩個清單並無差別： 1231. one2. two3. three 上下兩個清單的輸出是相同的。 1235. one7. two1. three Extension: fancy_lists 與原始 markdown 不同的是，Pandoc除了使用阿拉伯數字作為有序清單的編號外，也可以使用大寫或小寫的英文字母，以及羅馬數字。清單標記可以用括號包住，也可以單獨一個右括號，抑或是句號。如果清單標記是大寫字母接著一個句號，句號後請使用至少兩個空白字元。1 Extension: startnum 除了清單標記外，Pandoc也能判讀清單的起始編號，這兩項資訊都會保留於輸出格式中。舉例來說，下面的輸入可以產生一個從編號9 開始，以單括號為編號標記的清單，底下還跟著一個小寫羅馬數字的子清單： 123456 9) Ninth10) Tenth11) Eleventh i. subone ii. subtwo iii. subthree 當遇到不同形式的清單標記時，Pandoc會重新開始一個新的清單。所以，以下的輸入會產生三份清單： 1234(2) Two(5) Three1. Four* Five 如果需要預設的有序清單標記符號，可以使用 #.： 123#. one#. two#. three 定義清單Extension: definition_lists Pandoc 支援定義清單，其語法的靈感來自於 PHP MarkdownExtra 以及reStructuredText：2 1234567891011Term 1: Definition 1Term 2 with *inline markup*: Definition 2 &#123; some code, part of Definition 2 &#125; Third paragraph of definition 2. 每個專有名詞 (term)都必須單獨存在於一行，後面可以接著一個空白行，也可以省略，但一定要接上一或多筆定義內容。一筆定義需由一個冒號或波浪線作開頭，可以接上一或兩個空白作為縮進。定義本身的內容主體（包括接在冒號或波浪線後的第一行）應該以四個空白縮進。一個專有名詞可以有多個定義，而每個定義可以包含一或多個區塊元素（段落、代碼區塊、清單等），每個區塊元素都要縮進四個空白或一個tab。 如果你在定義內容後面留下空白行（如同上面的範例），那麼該段定義會被當作段落處理。在某些輸出格式中，這意謂著成對的專有名詞與定義內容間會有較大的空白間距。在定義與定義之間，以及定義與下個專有名詞間不要留空白行，即可產生一個比較緊湊的定義清單： 12345Term 1 ~ Definition 1Term 2 ~ Definition 2a ~ Definition 2b 編號範例清單Extension: example_lists 這個特別的清單標記 @ 可以用來產生連續編號的範例清單。清單中第一個以 @標記的項目會被編號為 ‘1’，接著編號為‘2’，依此類推，直到文件結束。範例項目的編號不會侷限於單一清單中，而是文件中所有以@ 為標記的項目均會次序遞增其編號，直到最後一個。舉例如下： 123456(@) My first example will be numbered (1).(@) My second example will be numbered (2).Explanation of examples.(@) My third example will be numbered (3). 編號範例可以加上標籤，並且在文件的其他地方作參照： 123(@good) This is a good example.As (@good) illustrates, ... 標籤可以是由任何英文字母、底線或是連字符號所組成的字串。 緊湊與寬鬆清單在與清單相關的「邊界處理」上，Pandoc 與 Markdown.pl有著不同的處理結果。考慮如下代碼： 1234567+ First+ Second: - Fee - Fie - Foe+ Third Pandoc 會將以上清單轉換為「緊湊清單」（在 “First”, “Second” 或 “Third” 之中沒有&lt;p&gt; 標籤），而 markdown 則會在 “Second” 與 “Third” （但不包含“First”）裡面置入 &lt;p&gt; 標籤，這是因為 “Third” 之前的空白行而造成的結果。Pandoc依循著一個簡單規則：如果文字後面跟著空白行，那麼就會被視為段落。既然 “Second”後面是跟著一個清單，而非空白行，那麼就不會被視為段落了。至於子清單的後面是不是跟著空白行，那就無關緊要了。（注意：即使是設定為markdown_strict 格式，Pandoc仍是依以上方式處理清單項目是否為段落的判定。這個處理方式與 markdown官方語法規範裡的描述一致，然而卻與 Markdown.pl 的處理不同。） 結束一個清單如果你在清單之後放入一個縮排的代碼區塊，會有什麼結果？ 1234- item one- item two &#123; my code block &#125; 問題大了！這邊 pandoc（其他的 markdown 實作也是如此）會將 { my code block }視為 item two 這個清單項目的第二個段落來處理，而不會將其視為一個代碼區塊。 要在 item two之後「切斷」清單，你可以插入一些沒有縮排、輸出時也不可見的內容，例如 HTML的註解： 123456- item one- item two&lt;!-- end of list --&gt; &#123; my code block &#125; 當你想要兩個各自獨立的清單，而非一個大且連續的清單時，也可以運用同樣的技巧： 1234567891. one2. two3. three&lt;!-- --&gt;1. uno2. dos3. tres 分隔線一行中若包含三個以上的 *, - 或 _符號（中間可以以空白字元分隔），則會產生一條分隔線： 123* * * *--------------- 表格有四種表格的形式可以使用。前三種適用於等寬字型的編輯環境，例如Courier。第四種則不需要直行的對齊，因此可以在比例字型的環境下使用。 簡單表格Extension: simple_tables, table_captions 簡單表格看起來像這樣子： 1234567 Right Left Center Default------- ------ ---------- ------- 12 12 12 12 123 123 123 123 1 1 1 1Table: Demonstration of simple table syntax. 表頭與資料列分別以一行為單位。直行的對齊則依照表頭的文字和其底下虛線的相對位置來決定：3 如果虛線與表頭文字的右側有切齊，而左側比表頭文字還長，則該直行為靠右對齊。 如果虛線與表頭文字的左側有切齊，而右側比表頭文字還長，則該直行為靠左對齊。 如果虛線的兩側都比表頭文字長，則該直行為置中對齊。 如果虛線與表頭文字的兩側都有切齊，則會套用預設的對齊方式（在大多數情況下，這將會是靠左對齊）。 表格底下必須接著一個空白行，或是一行虛線後再一個空白行。表格標題為可選的（上面的範例中有出現）。標題需是一個以Table: （或單純只有:）開頭作為前綴的段落，輸出時前綴的這部份會被去除掉。表格標題可以放在表格之前或之後。 表頭也可以省略，在省略表頭的情況下，表格下方必須加上一行虛線以清楚標明表格的範圍。例如： 12345------- ------ ---------- ------- 12 12 12 12 123 123 123 123 1 1 1 1------- ------ ---------- ------- 當省略表頭時，直行的對齊會以表格內容的第一行資料列決定。所以，以上面的表格為例，各直行的對齊依序會是靠右、靠左、置中以及靠右對齊。 多行表格Extension: multiline_tables, table_captions 多行表格允許表頭與表格資料格的文字能以複數行呈現（但不支援橫跨多欄或縱跨多列的資料格）。以下為範例： 1234567891011121314------------------------------------------------------------- Centered Default Right Left Header Aligned Aligned Aligned----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here&apos;s another one. Note the blank line between rows.-------------------------------------------------------------Table: Here&apos;s the caption. It, too, may spanmultiple lines. 看起來很像簡單表格，但兩者間有以下差別： 在表頭文字之前，必須以一列虛線作為開頭（除非有省略表頭）。 必須以一列虛線作為表格結尾，之後接一個空白行。 資料列與資料列之間以空白行隔開。 在多行表格中，表格分析器會計算各直行的欄寬，並在輸出時盡可能維持各直行在原始文件中的相對比例。因此，要是你覺得某些欄位在輸出時不夠寬，你可以在markdown 的原始檔中加寬一點。 和簡單表格一樣，表頭在多行表格中也是可以省略的： 12345678910----------- ------- --------------- ------------------------- First row 12.0 Example of a row that spans multiple lines. Second row 5.0 Here&apos;s another one. Note the blank line between rows.----------- ------- --------------- -------------------------: Here&apos;s a multiline table without headers. 多行表格中可以單只包含一個資料列，但該資料列之後必須接著一個空白行（然後才是標示表格結尾的一行虛線）。如果沒有此空白行，此表格將會被解讀成簡單表格。 格框表格Extension: grid_tables, table_captions 格框表格看起來像這樣： 1234567891011: Sample grid table.+---------------+---------------+--------------------+| Fruit | Price | Advantages |+===============+===============+====================+| Bananas | $1.34 | - built-in wrapper || | | - bright color |+---------------+---------------+--------------------+| Oranges | $2.10 | - cures scurvy || | | - tasty |+---------------+---------------+--------------------+ 以 =串成的一行區分了表頭與表格本體，這在沒有表頭的表格中也是可以省略的。在格框表格中的資料格可以包含任意的區塊元素（複數段落、代碼區塊、清單等等）。不支援對齊，也不支援橫跨多欄或縱跨多列的資料格。格框表格可以在Emacs table mode 下輕鬆建立。 管線表格Extension: pipe_tables, table_captions 管線表格看起來像這樣： 1234567| Right | Left | Default | Center ||------:|:-----|---------|:------:|| 12 | 12 | 12 | 12 || 123 | 123 | 123 | 123 || 1 | 1 | 1 | 1 | : Demonstration of simple table syntax. 這個語法與 PHP markdown extra中的表格語法相同。開始與結尾的管線字元是可選的，但各直行間則必須以管線區隔。上面範例中的冒號表明了對齊方式。表頭可以省略，但表頭下的水平虛線必須保留，因為虛線上定義了資料欄的對齊方式。 因為管線界定了各欄之間的邊界，表格的原始碼並不需要像上面例子中各欄之間保持直行對齊。所以，底下一樣是個完全合法（雖然醜陋）的管線表格： 12345fruit| price-----|-----:apple|2.05pear|1.37orange|3.09 管線表格的資料格不能包含如段落、清單之類的區塊元素，也不能包含複數行文字。 注意：Pandoc 也可以看得懂以下形式的管線表格，這是由 Emacs 的 orgtbl-mod 所繪製： 1234| One | Two ||-----+-------|| my | table || is | nice | 主要的差別在於以 + 取代了部分的 |。其他的 orgtbl功能並未支援。如果要指定非預設的直行對齊形式，你仍然需要在上面的表格中自行加入冒號。 文件標題區塊（譯註：本節中提到的「標題」均指 Title，而非 Headers） Extension: pandoc_title_block 如果檔案以文件標題（Title）區塊開頭 123% title% author(s) (separated by semicolons)% date 這部份將不會作為一般文字處理，而會以書目資訊的方式解析。（這可用在像是單一 LaTeX或是 HTML輸出文件的書名上。）這個區塊僅能包含標題，或是標題與作者，或是標題、作者與日期。如果你只想包含作者卻不想包含標題，或是只有標題與日期而沒有作者，你得利用空白行： 123456%% Author% My title%% June 15, 2006 標題可以包含多行文字，但接續行必須以空白字元開頭，像是： 12% My title on multiple lines 如果文件有多個作者，作者也可以分列在不同行並以空白字元作開頭，或是以分號間隔，或是兩者並行。所以，下列各種寫法得到的結果都是相同的： 1234567% Author One Author Two% Author One; Author Two% Author One; Author Two 日期就只能寫在一行之內。 所有這三個 metadata 欄位都可以包含標準的行內格式（斜體、連結、腳註等等）。 文件標題區塊一定會被分析處理，但只有在 --standaline (-s)選項被設定時才會影響輸出內容。在輸出 HTML時，文件標題會出現的地方有兩個：一個是在文件的 &lt;head&gt;區塊裡－－這會顯示在瀏覽器的視窗標題上－－另外一個是文件的 &lt;body&gt;區塊最前面。位於 &lt;head&gt; 裡的文件標題可以選擇性地加上前綴文字（透過--title-prefix 或 -T 選項）。而在 &lt;body&gt; 裡的文件標題會以 H1元素呈現，並附帶 “title” 類別 (class)，這樣就能藉由 CSS來隱藏顯示或重新定義格式。如果以 -T選項指定了標題前綴文字，卻沒有設定文件標題區塊裡的標題，那麼前綴文字本身就會被當作是HTML 的文件標題。 而 man page 的輸出器會分析文件標題區塊的標題行，以解出標題、man page sectionnumber，以及其他頁眉 (header) 頁腳 (footer)所需要的資訊。一般會假設標題行的第一個單字為標題，標題後也許會緊接著一個以括號包住的單一數字，代表sectionnumber（標題與括號之間沒有空白）。在此之後的其他文字則為頁腳與頁眉文字。頁腳與頁眉文字之間是以單獨的一個管線符號(|) 作為區隔。所以， 1% PANDOC(1) 將會產生一份標題為 PANDOC 且 section 為 1 的 man page。 1% PANDOC(1) Pandoc User Manuals 產生的 man page 會再加上 “Pandoc User Manuals” 在頁腳處。 1% PANDOC(1) Pandoc User Manuals | Version 4.0 產生的 man page 會再加上 “Version 4.0” 在頁眉處。 反斜線跳脫字元Extension: all_symbols_escapable 除了在代碼區塊或行內代碼之外，任何標點符號或空白字元前面只要加上一個反斜線，都能使其保留字面原義，而不會進行格式的轉義解讀。因此，舉例來說，下面的寫法 1*\*hello\** 輸出後會得到 1&lt;em&gt;*hello*&lt;/em&gt; 而不是 1&lt;strong&gt;hello&lt;/strong&gt; 這條規則比原始的 markdown規則來得好記許多，原始規則中，只有以下字元才有支援反斜線跳脫，不作進一步轉義： 1\`*_&#123;&#125;[]()&gt;#+-.! （然而，如果使用了 markdown_strict 格式，那麼就會採用原始的 markdown 規則） 一個反斜線之後的空白字元會被解釋為不斷行的空白 (nonbreaking space)。這在 TeX的輸出中會顯示為 ~，而在 HTML 與 XML 則是顯示為 \&amp;#160; 或 \&amp;nbsp;。 一個反斜線之後的換行字元（例如反斜線符號出現在一行的最尾端）則會被解釋為強制換行。這在TeX 的輸出中會顯示為 \\，而在 HTML 裡則是 &lt;br /&gt;。相對於原始 markdown是以在行尾加上兩個空白字元這種「看不見」的方式進行強制換行，反斜線接換行字元會是比較好的替代方案。 反斜線跳脫字元在代碼上下文中不起任何作用。 智慧型標點符號Extension 如果指定了 --smart 選項，pandoc 將會輸出正式印刷用的標點符號，像是將 straightquotes 轉換為 curly quotes4、--- 轉為破折號 (em-dashes)，--轉為連接號 (en-dashes)，以及將 ... 轉為刪節號。不斷行空格 (Nonbreaking spaces)將會插入某些縮寫詞之後，例如 “Mr.”。 注意：如果你的 LaTeX template 使用了 csquotes 套件，pandoc 會自動偵測並且使用\enquote{...} 在引言文字上。 行內格式強調要 強調 某些文字，只要以 * 或 _ 符號前後包住即可，像這樣： 12This text is _emphasized with underscores_, and thisis *emphasized with asterisks*. 重複兩個 * 或 _ 符號以產生 更強烈的強調： 1This is **strong emphasis** and __with underscores__. 一個前後以空白字元包住，或是前面加上反斜線的 * 或 _符號，都不會轉換為強調格式： 1This is * not emphasized *, and \*neither is this\*. Extension: intraword_underscores 因為 _ 字元有時會使用在單字或是 ID 之中，所以 pandoc 不會把被字母包住的 _解讀為強調標記。如果有需要特別強調單字中的一部分，就用 *： 1feas*ible*, not feas*able*. 刪除線Extension: strikeout 要將一段文字加上水平線作為刪除效果，將該段文字前後以 ~~ 包住即可。例如， 1This ~~is deleted text.~~ 上標與下標Extension: superscript, subscript 要輸入上標可以用 ^ 字元將要上標的文字包起來；要輸入下標可以用 ~字元將要下標的文字包起來。直接看範例， 1H~2~O is a liquid. 2^10^ is 1024. 如果要上標或下標的文字中包含了空白，那麼這個空白字元之前必須加上反斜線。（這是為了避免一般使用下的~ 和 ^ 在非預期的情況下產生出意外的上標或下標。）所以，如果你想要讓字母 P後面跟著下標文字 ‘a cat’，那麼就要輸入 P~a\ cat~，而不是 P~a cat~。 字面文字要讓一小段文字直接以其字面形式呈現，可以用反引號將其包住： 1What is the difference between `&gt;&gt;=` and `&gt;&gt;`? 如果字面文字中也包含了反引號，那就使用雙重反引號包住： 1Here is a literal backtick `` ` ``. （在起始反引號後的空白以及結束反引號前的空白都會被忽略。） 一般性的規則如下，字面文字區段是以連續的反引號字元作為開始（反引號後的空白字元為可選），一直到同樣數目的反引號字元出現才結束（反引號前的空白字元也為可選）。 要注意的是，反斜線跳脫字元（以及其他 markdown結構）在字面文字的上下文中是沒有效果的： 1This is a backslash followed by an asterisk: `\*`. Extension: inline_code_attributes 與圍欄代碼區塊一樣，字面文字也可以附加屬性： 1`&lt;$&gt;`&#123;.haskell&#125; 數學Extension: tex_math_dollars 所有介於兩個 ` 字元之間的內容將會被視為 TeX 數學公式處理。開頭的 `右側必須立刻接上任意文字，而結尾 $的左側同樣也必須緊挨著文字。這樣一來，$20,000 and $30,000就不會被當作數學公式處理了。如果基於某些原因，有必須使用 $符號將其他文字括住的需求時，那麼可以在 ` 前使用反斜線跳脫字元，這樣 `就不會被當作數學公式的分隔符。 TeX 數學公式會在所有輸出格式中印出。至於會以什麼方式演算編排 (render)則取決於輸出的格式： Markdown, LaTeX, Org-Mode, ConTeXt ~ 公式會以字面文字呈現在兩個 $ 符號之間。 reStructuredText ~ 公式會使用 此處 所描述的 :math: 這個 “interpreted text role” 來進行演算編排。 AsciiDoc ~ 公式會以 latexmath:[...] 演算編排。 Texinfo ~ 公式會在 @math 指令中演算編排。 groff man ~ 公式會以去掉 $ 後的字面文字演算編排。 MediaWiki ~ 公式會在 &lt;math&gt; 標籤中演算編排。 Textile ~ 公式會在 &lt;span class=&quot;math&quot;&gt; 標籤中演算編排。 RTF, OpenDocument, ODT ~ 如果可以的話，公式會以 unicode 字元演算編排，不然就直接使用字面字元。 Docbook ~ 如果使用了 --mathml 旗標，公式就會在 inlineequation 或 informalequation 標籤中使用 mathml 演算編排。否則就會盡可能使用 unicode 字元演算編排。 Docx ~ 公式會以 OMML 數學標記的方式演算編排。 FictionBook2 ~ 如果有使用 --webtex 選項，公式會以 Google Charts 或其他相容的網路服務演算編排為圖片，並下載嵌入於電子書中。否則就會以字面文字顯示。 HTML, Slidy, DZSlides, S5, EPUB ~ 公式會依照以下命令列選項的設置，以不同的方法演算編排為 HTML 代碼。 1. 預設方式是將 TeX 數學公式盡可能地以 unicode 字元演算編排，如同 RTF、DocBook 以及 OpenDocument 的輸出。公式會被放在附有屬性 `class=&quot;math&quot;` 的 `span` 標籤內，所以可以在需要時給予不同的樣式，使其突出於周遭的文字內容。 2. 如果使用了 `--latexmathml` 選項，TeX 數學公式會被顯示於 $$` 或 `$$$ 字元中，並放在附帶 `LaTeX` 類別的 `&lt;span&gt;` 標籤裡。這段內容會用 [LaTeXMathML](http://math.etsu.edu/LaTeXMathML/) script 演算編排為數學公式。（這個方法無法適用於所有瀏覽器，但在 Firefox 中是有效的。在不支援 LaTeXMathML 的瀏覽器中，TeX 數學公式會單純的以兩個 `$` 字元間的字面文字呈現。） 3. 如果使用了 `--jsmath` 選項，TeX數學公式會放在 `&lt;span&gt;` 標籤（用於行內數學公式）或 `&lt;div&gt;` 標籤（用於區塊數學公式）中，並附帶類別屬性 `math`。這段內容會使用 [jsMath](http://www.math.union.edu/~dpvc/jsmath/) script 來演算編排。 4. 如果使用了 `--mimetex` 選項，[mimeTeX](http://www.forkosh.com/mimetex.html) CGI script 會被呼叫來產生每個 TeX 數學公式的圖片。這適用於所有瀏覽器。`--mimetex` 選項有一個可選的 URL 參數。如果沒有指定 URL，它會假設 mimeTeX CGI script 的位置在 `/cgi-bin/mimetex.cig`。 5. 如果使用了 `--gladtex` 選項，TeX 數學公式在 HTML 的輸出中會被 `&lt;eq&gt;` 標籤包住。產生的 `htex` 檔案之後可以透過 [gladTeX](http://ans.hsh.no/home/mgg/gladtex/) 處理，這會針對每個數學公式生成圖片，並於最後生成一個包含這些圖片連結的 `html` 檔案。所以，整個處理流程如下： 123pandoc -s --gladtex myfile.txt -o myfile.htexgladtex -d myfile-images myfile.htex# produces myfile.html and images in myfile-images 6. 如果使用了 `--webtex` 選項，TeX 數學公式會被轉換為 `&lt;img&gt;` 標籤並連結到一個用以轉換公式為圖片的外部 script。公式將會編碼為 URL 可接受格式並且與指定的 URL 參數串接。如果沒有指定 URL，那麼將會使用 Google Chart API (`http://chart.apis.google.com/chart?cht=tx&amp;chl=`)。 7. 如果使用了 `--mathjax` 選項，TeX 數學公式將會被包在 `\(...\)`（用於行內數學公式）或 `\[...\]`（用於區塊數學公式）之間顯示，並且放在附帶類別 `math` 的 `&lt;span&gt;` 標籤之中。這段內容會使用 [MathJax](http://www.mathjax.org/) script 演算編排為頁面上的數學公式。 Raw HTMLExtension: raw_html Markdown 允許你在文件中的任何地方插入原始 HTML（或DocBook）指令（除了在字面文字上下文處，此時的 &lt;, &gt; 和 &amp;都會按其字面意義顯示）。（技術上而言這不算擴充功能，因為原始 markdown本身就有提供此功能，但做成擴充形式便可以在有特殊需要的時候關閉此功能。） 輸出 HTML, S5, Slidy, Slideous, DZSlides, EPUB, Markdown 以及 Textile等格式時，原始 HTML代碼會不作修改地保留至輸出檔案中；而其他格式的輸出內容則會將原始 HTML代碼去除掉。 Extension: markdown_in_html_blocks 原始 markdown 允許你插入 HTML「區塊」：所謂的 HTML區塊是指，上下各由一個空白行所隔開，開始與結尾均由所在行最左側開始的一連串對稱均衡的HTML 標籤。在這個區塊中，任何內容都會當作是 HTML 來分析，而不再視為markdown；所以（舉例來說），* 符號就不再代表強調。 當指定格式為 markdown_strict 時，Pandoc 會以上述方式處理；但預設情況下，Pandoc能夠以 markdown 語法解讀 HTML 區塊標籤中的內容。舉例說明，Pandoc 能夠將底下這段 123456&lt;table&gt; &lt;tr&gt; &lt;td&gt;*one*&lt;/td&gt; &lt;td&gt;[a link](http://google.com)&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt; 轉換為 123456&lt;table&gt; &lt;tr&gt; &lt;td&gt;&lt;em&gt;one&lt;/em&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;http://google.com&quot;&gt;a link&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt; 而 Markdown.pl 則是保留該段原樣。 這個規則只有一個例外：那就是介於 &lt;script&gt; 與 &lt;style&gt;之間的文字都不會被拿來當作 markdown 解讀。 這邊與原始 markdown 的分歧，主要是為了讓 markdown 能夠更便利地混入 HTML區塊元素。比方說，一段 markdown 文字可以用 &lt;div&gt;標籤將其前後包住來進行樣式指定，而不用擔心裡面的 markdown 不會被解譯到。 Raw TeXExtension: raw_tex 除了 HTML 之外，pandoc 也接受文件中嵌入原始 LaTeX, TeX 以及 ConTeXt 代碼。行內TeX 指令會被保留並不作修改地輸出至 LaTeX 與 ConTeXt格式中。所以，舉例來說，你可以使用 LaTeX 來導入 BibTeX 的引用文獻： 1This result was proved in \cite&#123;jones.1967&#125;. 請注意在 LaTeX 環境下時，像是底下 123456\begin&#123;tabular&#125;&#123;|l|l|&#125;\hlineAge &amp; Frequency \\ \hline18--25 &amp; 15 \\26--35 &amp; 33 \\36--45 &amp; 22 \\ \hline\end&#123;tabular&#125; 位在 begin 與 end 標籤之間的內容，都會被當作是原始 LaTeX資料解讀，而不會視為 markdown。 行內 LaTeX 在輸出至 Markdown, LaTeX 及 ConTeXt 之外的格式時會被忽略掉。 LaTeX 巨集Extension: latex_macros 當輸出格式不是 LaTeX 時，pandoc 會分析 LaTeX 的 \newcommand 和 \renewcommand定義，並套用其產生的巨集到所有 LaTeX數學公式中。所以，舉例來說，下列指令對於所有的輸出格式均有作用，而非僅僅作用於LaTeX 格式： 123\newcommand&#123;\tuple&#125;[1]&#123;\langle #1 \rangle&#125;$\tuple&#123;a, b, c&#125;$ 在 LaTeX 的輸出中，\newcommand 定義會單純不作修改地保留至輸出結果。 連結Markdown 接受以下數種指定連結的方式。 自動連結如果你用角括號將一段 URL 或是 email 位址包起來，它會自動轉換成連結： 12&lt;http://google.com&gt;&lt;sam@green.eggs.ham&gt; 行內連結一個行內連結包含了位在方括號中的連結文字，以及方括號後以圓括號包起來的URL。（你可以選擇性地在 URL 後面加入連結標題，標題文字要放在引號之中。） 12This is an [inline link](/url), and here&apos;s [one witha title](http://fsf.org &quot;click here for a good time!&quot;). 方括號與圓括號之間不能有空白。連結文字可以包含格式（例如強調），但連結標題則否。 參考連結一個 明確的參考連結包含兩個部分，連結本身以及連結定義，其中連結定義可以放在文件的任何地方（不論是放在連結所在處之前或之後）。 連結本身是由兩組方括號所組成，第一組方括號中為連結文字，第二組為連結標籤。（在兩個方括號間可以有空白。）連結定義則是以方括號框住的連結標籤作開頭，後面跟著一個冒號一個空白，再接著一個URL，最後可以選擇性地（在一個空白之後）加入由引號或是圓括號包住的連結標題。 以下是一些範例： 1234[my label 1]: /foo/bar.html &quot;My title, optional&quot;[my label 2]: /foo[my label 3]: http://fsf.org (The free software foundation)[my label 4]: /bar#special &apos;A title in single quotes&apos; 連結的 URL 也可以選擇性地以角括號包住： 1[my label 5]: &lt;http://foo.bar.baz&gt; 連結標題可以放在第二行： 12[my label 3]: http://fsf.org &quot;The free software foundation&quot; 需注意連結標籤並不區分大小寫。所以下面的例子會建立合法的連結： 123Here is [my link][FOO][Foo]: /bar/baz 在一個 隱性 參考連結中，第二組方括號的內容是空的，甚至可以完全地略去： 123See [my website][], or [my website].[my website]: http://foo.bar.baz 注意：在 Markdown.pl 以及大多數其他 markdown實作中，參考連結的定義不能存在於嵌套結構中，例如清單項目或是區塊引言。Pandoclifts this arbitrary seemingrestriction。所以雖然下面的語法在幾乎所有其他實作中都是錯誤的，但在 pandoc中可以正確處理： 123&gt; My block [quote].&gt;&gt; [quote]: /foo 內部連結要連結到同一份文件的其他章節，可使用自動產生的 ID（參見 HTML, LaTeX 與 ConTeXt的標題識別符 一節後半）。例如： 1See the [Introduction](#introduction). 或是 123See the [Introduction].[Introduction]: #introduction 內部連結目前支援的格式有 HTML（包括 HTML slide shows 與 EPUB）、LaTeX 以及ConTeXt。 圖片在連結語法的前面加上一個 !就是圖片的語法了。連結文字將會作為圖片的替代文字（alt text）： 12345![la lune](lalune.jpg &quot;Voyage to the moon&quot;)![movie reel][movie reel]: movie.gif 附上說明的圖片Extension: implicit_figures 一個圖片若自身單獨存在一個段落中，那麼將會以附上圖片說明 (caption) 的圖表(figure) 形式呈現。5（在 LaTeX 中，會使用圖表環境；在 HTML中，圖片會被放在具有 figure 類別的 div 元素中，並會附上一個具有 caption類別的 p 元素。）圖片的替代文字同時也會用來作為圖片說明。 1![This is the caption](/url/of/image.png) 如果你只是想要個一般的行內圖片，那麼只要讓圖片不是段落裡唯一的元素即可。一個簡單的方法是在圖片後面插入一個不斷行空格： 1![This image won&apos;t be a figure](/url/of/image.png)\ 腳註Extension: footnotes Pandoc’s markdown 支援腳註功能，使用以下的語法： 1234567891011121314151617Here is a footnote reference,1 and another.[^longnote] 腳註參考用的 ID 不得包含空白、tabs 或換行字元。這些 ID 只會用來建立腳註位置與腳註文字的對應關連；在輸出時，腳註將會依序遞增編號。 腳註本身不需要放在文件的最後面。它們可以放在文件裡的任何地方，但不能被放入區塊元素（清單、區塊引言、表格等）之中。 **Extension:** `inline_notes` Pandoc 也支援了行內腳註（儘管，與一般腳註不同，行內腳註不能包含多個段落）。其語法如下： 123Here is an inline note.^[Inlines notes are easier to write, sinceyou don&apos;t have to pick an identifier and move down to type thenote.] 行內與一般腳註可以自由交錯使用。 引用Extension: citations Pandoc 能夠以數種形式自動產生引用與參考書目（使用 Andrea Rossato 的hs-citeproc）。為了使用這項功能，你需要一個下列其中一種格式的參考書目資料庫： Format File extension MODS .mods BibLaTeX .bib BibTeX .bibtex RIS .ris EndNote .enl EndNote XML .xml ISI .wos MEDLINE .medline Copac .copac JSON citeproc .json 需注意的是副檔名 .bib 一般而言同時適用於 BibTeX 與 BibLaTeX的檔案，不過你可以使用 .bibtex 來強制指定 BibTeX。 你需要使用命令列選項 --bibliography來指定參考書目檔案（如果有多個書目檔就得反覆指定）。 預設情況下，pandoc會在引用文獻與參考書目中使用芝加哥「作者－日期」格式。要使用其他的格式，你需要用--csl 選項來指定一個 CSL 1.0格式的檔案。關於建立與修改 CSL 格式的入門可以在http://citationstyles.org/downloads/primer.html這邊找到。https://github.com/citation-style-language/styles 是 CSL格式的檔案庫。也可以在 http://zotero.org/styles 以簡單的方式瀏覽。 引用資訊放在方括號中，以分號區隔。每一條引用都會有個 key，由 @加上資料庫中的引用 ID組成，並且可以選擇性地包含前綴、定位以及後綴。以下是一些範例： 12345Blah blah [see @doe99, pp. 33-35; also @smith04, ch. 1].Blah blah [@doe99, pp. 33-35, 38-39 and *passim*].Blah blah [@smith04; @doe99]. 在 @ 前面的減號 (-)將會避免作者名字在引用中出現。這可以用在已經提及作者的文章場合中： 1Smith says blah [-@smith04]. 你也可以在文字中直接插入引用資訊，方式如下： 123@smith04 says blah.@smith04 [p. 33] says blah. 如果引用格式檔需要產生一份引用作品的清單，這份清單會被放在文件的最後面。一般而言，你需要以一個適當的標題結束你的文件： 123last paragraph...# References 如此一來參考書目就會被放在這個標題後面了。 之所以有這條規則，主要是要避免以人名頭文字縮寫作為開頭的段落所帶來的混淆，像是 1B. Russell was an English philosopher. 這樣就不會被當作清單項目了。 這條規則並不會避免以下 1(C) 2007 Joe Smith 這樣的敘述被解釋成清單項目。在這情形下，可以使用反斜線： 1(C\) 2007 Joe Smith ↩ DavidWheeler對於 markdown 的建議也同時影響了我。↩ 這個方案是由 Michel Fortin 在 Markdown discussionlist的討論中所提出。↩ 譯註：straight quotes指的是左右兩側都長得一樣的引號，例如我們直接在鍵盤上打出來的單引號或雙引號；curlyquotes 則是左右兩側不同，有從兩側向內包夾視覺效果的引號。↩ 這項功能尚未在 RTF, OpenDocument 或 ODT格式上實現。在這些格式中，你會得到一個在段落中只包含自己的圖片，而無圖片說明。↩ Please enable JavaScript to view the comments powered byDisqus. comments powered byDisqus 1.Here is the footnote.[^longnote]: Here's one with multiple blocks. Subsequent paragraphs are indented to show that theybelong to the previous footnote. { some.code } The whole paragraph can be indented, or just the first line. In this way, multi-paragraph footnotes work like multi-paragraph list items.This paragraph won't be part of the note, because itisn't indented. ↩]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
</search>
